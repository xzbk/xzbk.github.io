<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Xiao Z</title>
  
  <subtitle>命是弱者的借口,运是强者的谦辞</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-09-21T14:09:27.913Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Xiao Z</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MySql常用函数</title>
    <link href="http://yoursite.com/2018/09/21/MySql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"/>
    <id>http://yoursite.com/2018/09/21/MySql常用函数/</id>
    <published>2018-09-21T13:57:44.000Z</published>
    <updated>2018-09-21T14:09:27.913Z</updated>
    
    <content type="html"><![CDATA[<p><strong>拼接字符串</strong><br>参数个数不限，可拼接任意多个字符串<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">concat</span>(username,<span class="string">'----'</span>,<span class="keyword">password</span>) <span class="keyword">from</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure></p><p><strong>日期转换为字符串</strong><br>将<code>as</code>前面的日期转换成<code>as</code>后面的类型<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">CAST</span>(<span class="keyword">sysdate</span>() <span class="keyword">AS</span> <span class="built_in">char</span>);</span><br></pre></td></tr></table></figure></p><p><strong>转换为规定格式字符串</strong><br>将日期转换为自定义的格式<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">date_format</span>(<span class="keyword">sysdate</span>(),<span class="string">'%Y-%c-%d %H:%i:%s'</span>);</span><br></pre></td></tr></table></figure></p><p><strong>字符串转换成日期</strong><br>将字符串转换为特定的日期格式<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">str_to_date</span>(<span class="string">'2017-03-30'</span>,<span class="string">'%Y-%c-%d'</span>);</span><br></pre></td></tr></table></figure></p><p><strong>获取一个随机字符串，这个字符串是唯一的</strong><br>获取一个32位长度的uuid，这串字符是唯一的<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">uuid</span>();</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;拼接字符串&lt;/strong&gt;&lt;br&gt;参数个数不限，可拼接任意多个字符串&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/spa
      
    
    </summary>
    
      <category term="数据库" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="mysql" scheme="http://yoursite.com/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>base64图片工具类</title>
    <link href="http://yoursite.com/2018/09/15/base64%E5%9B%BE%E7%89%87%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    <id>http://yoursite.com/2018/09/15/base64图片工具类/</id>
    <published>2018-09-15T13:08:25.000Z</published>
    <updated>2018-09-15T13:22:11.827Z</updated>
    
    <content type="html"><![CDATA[<p><strong>注意：</strong><br>正常base64图片编码格式为<code>data:image/jpeg;base64,iVBORw0KGgo=...</code>,而此工具类不需要<code>,</code>前的数据格式部分，此处解码只需要给出数据格式的”,”后的编码部分即可<br>即：<code>GenerateImage(&quot;iVBORw0KGgo=...&quot;,&quot;E:\\a_new.jpg&quot;);</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sdibt.group.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sun.misc.BASE64Decoder;</span><br><span class="line"><span class="keyword">import</span> sun.misc.BASE64Encoder;  </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Base64Util</span>   </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  </span></span><br><span class="line"><span class="function">    </span>&#123;  </span><br><span class="line">        String strImg = GetImageStr(<span class="string">"E:\\a.jpg"</span>);  </span><br><span class="line">        System.out.println(strImg);</span><br><span class="line">        GenerateImage(strImg,<span class="string">"E:\\a_new.jpg"</span>);<span class="comment">//此处解码只需要数据格式的","后的编码部分  </span></span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">//图片转化成base64字符串  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">GetImageStr</span><span class="params">(String imgFile)</span>  </span></span><br><span class="line"><span class="function">    </span>&#123;<span class="comment">//将图片文件转化为字节数组字符串，并对其进行Base64编码处理  </span></span><br><span class="line">        InputStream in = <span class="keyword">null</span>;  </span><br><span class="line">        <span class="keyword">byte</span>[] data = <span class="keyword">null</span>;  </span><br><span class="line">        <span class="comment">//读取图片字节数组  </span></span><br><span class="line">        <span class="keyword">try</span>   </span><br><span class="line">        &#123;  </span><br><span class="line">            in = <span class="keyword">new</span> FileInputStream(imgFile);          </span><br><span class="line">            data = <span class="keyword">new</span> <span class="keyword">byte</span>[in.available()];  </span><br><span class="line">            in.read(data);  </span><br><span class="line">            in.close();  </span><br><span class="line">        &#125;   </span><br><span class="line">        <span class="keyword">catch</span> (IOException e)   </span><br><span class="line">        &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">//对字节数组Base64编码  </span></span><br><span class="line">        BASE64Encoder encoder = <span class="keyword">new</span> BASE64Encoder();  </span><br><span class="line">        <span class="keyword">return</span> encoder.encode(data);<span class="comment">//返回Base64编码过的字节数组字符串  </span></span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    <span class="comment">//base64字符串转化成图片  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">GenerateImage</span><span class="params">(String imgStr,String outPath)</span>  </span></span><br><span class="line"><span class="function">    </span>&#123;   <span class="comment">//对字节数组字符串进行Base64解码并生成图片  </span></span><br><span class="line">        <span class="keyword">if</span> (imgStr == <span class="keyword">null</span>) <span class="comment">//图像数据为空  </span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;  </span><br><span class="line">        BASE64Decoder decoder = <span class="keyword">new</span> BASE64Decoder();  </span><br><span class="line">        <span class="keyword">try</span>   </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="comment">//Base64解码  </span></span><br><span class="line">            <span class="keyword">byte</span>[] b = decoder.decodeBuffer(imgStr);  </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;b.length;++i)  </span><br><span class="line">            &#123;  </span><br><span class="line">                <span class="keyword">if</span>(b[i]&lt;<span class="number">0</span>)  </span><br><span class="line">                &#123;<span class="comment">//调整异常数据  </span></span><br><span class="line">                    b[i]+=<span class="number">256</span>;  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="comment">//生成jpeg图片  </span></span><br><span class="line">            OutputStream out = <span class="keyword">new</span> FileOutputStream(outPath);      </span><br><span class="line">            out.write(b);  </span><br><span class="line">            out.flush();  </span><br><span class="line">            out.close();  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;  </span><br><span class="line">        &#125;   </span><br><span class="line">        <span class="keyword">catch</span> (Exception e)   </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;&lt;br&gt;正常base64图片编码格式为&lt;code&gt;data:image/jpeg;base64,iVBORw0KGgo=...&lt;/code&gt;,而此工具类不需要&lt;code&gt;,&lt;/code&gt;前的数据格式部分，此处解码只需要给出数据格式的”
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java工具类" scheme="http://yoursite.com/tags/java%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>java数组集合的相互转换</title>
    <link href="http://yoursite.com/2018/09/06/java%E6%95%B0%E7%BB%84%E9%9B%86%E5%90%88%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"/>
    <id>http://yoursite.com/2018/09/06/java数组集合的相互转换/</id>
    <published>2018-09-06T15:23:30.000Z</published>
    <updated>2018-09-06T15:25:45.696Z</updated>
    
    <content type="html"><![CDATA[<h2 id="数组转集合"><a href="#数组转集合" class="headerlink" title="数组转集合"></a>数组转集合</h2><p>对于给定的如下数组，如何转换成List集合？<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String[] array = &#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;;</span><br></pre></td></tr></table></figure></p><h3 id="1-使用原生方式，拆分数组，添加到List"><a href="#1-使用原生方式，拆分数组，添加到List" class="headerlink" title="1.使用原生方式，拆分数组，添加到List"></a>1.使用原生方式，拆分数组，添加到List</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; resultList = <span class="keyword">new</span> ArrayList&lt;&gt;(array.length);</span><br><span class="line"><span class="keyword">for</span> (String s : array) &#123;</span><br><span class="line">    resultList.add(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-使用Arrays-asList"><a href="#2-使用Arrays-asList" class="headerlink" title="2.使用Arrays.asList()"></a>2.使用Arrays.asList()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; resultList= <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(array));</span><br></pre></td></tr></table></figure><p>注意：Arrays.asList()会返回一个ArrayList对象，ArrayList类是Arrays的一个私有静态类，而不是java.util.ArrayList类，java.util.Arrays.ArrayList类有set()、get()、contains()方法，但是没有增加元素的方法，所以它的大小是固定的，想要创建一个真正的ArrayList类，你应该</p><h3 id="3-使用Collections-addAll"><a href="#3-使用Collections-addAll" class="headerlink" title="3.使用Collections.addAll()"></a>3.使用Collections.addAll()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; resultList = <span class="keyword">new</span> ArrayList&lt;&gt;(array.length);</span><br><span class="line">Collections.addAll(resultList,array);</span><br></pre></td></tr></table></figure><h3 id="4-使用List-of"><a href="#4-使用List-of" class="headerlink" title="4.使用List.of()"></a>4.使用List.of()</h3><p>此方法为 Java9新增方法，定义在List接口内，并且为静态方法，故可以由类名直接调用。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; resultList = List.of(array);</span><br></pre></td></tr></table></figure></p><h2 id="集合转数组"><a href="#集合转数组" class="headerlink" title="集合转数组"></a>集合转数组</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;数组转集合&quot;&gt;&lt;a href=&quot;#数组转集合&quot; class=&quot;headerlink&quot; title=&quot;数组转集合&quot;&gt;&lt;/a&gt;数组转集合&lt;/h2&gt;&lt;p&gt;对于给定的如下数组，如何转换成List集合？&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Dos下的java命令</title>
    <link href="http://yoursite.com/2018/09/05/Dos%E4%B8%8B%E7%9A%84java%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/09/05/Dos下的java命令/</id>
    <published>2018-09-05T15:57:49.000Z</published>
    <updated>2018-09-05T16:34:32.926Z</updated>
    
    <content type="html"><![CDATA[<h2 id="常用的dos命令："><a href="#常用的dos命令：" class="headerlink" title="常用的dos命令："></a>常用的dos命令：</h2><p>进入DOS的几种方式(win7)：<br>A.    开始菜单——-输入cmd命令，进入dos窗口。<br>B.    Shift键+右键—打开命令窗口<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">d: 回车盘符切换 </span><br><span class="line">dir(directory):列出当前目录下的文件以及文件夹 </span><br><span class="line">   显示这个目录下所有的.docx结尾的文件  dir *.docx</span><br><span class="line">md (make directory) : 创建目录</span><br><span class="line">rd (remove directory): 删除目录 ，如果目录内容不为空，rd /s 目录名</span><br><span class="line"><span class="built_in">cd</span> (change directory)改变指定目录(进入指定目录)</span><br><span class="line">   D:\&gt;<span class="built_in">cd</span> D:\烟台\Java核心编程\chapter1\code</span><br><span class="line"><span class="built_in">cd</span>.. : 退回到上一级目录   </span><br><span class="line"><span class="built_in">cd</span>/: 退回到根目录</span><br><span class="line">del (delete): 删除文件,删除一堆后缀名一样的文件*.txt</span><br><span class="line"><span class="built_in">exit</span> : 退出dos命令行</span><br><span class="line">cls : (clear screen)清屏</span><br><span class="line">创建文本文档：notepad  文件名。</span><br></pre></td></tr></table></figure></p><h2 id="编译命令javac"><a href="#编译命令javac" class="headerlink" title="编译命令javac"></a>编译命令javac</h2><p><code>java</code>编译命令采用<code>javac</code>,<code>javac</code>后面跟的是<code>java</code>文件名和扩展名,编译后生成<code>.class</code>文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\&gt; javac D:/<span class="built_in">test</span>/com/action/HelloAction.java</span><br></pre></td></tr></table></figure></p><h2 id="执行命令java"><a href="#执行命令java" class="headerlink" title="执行命令java"></a>执行命令java</h2><p>java运行命令采用<code>javac</code>,<code>java</code>命令后面跟的是java的类名,Java运行的时候会用到jdk里面的库包lib。通过<code>java –verbose:class</code>可以清楚看到class<br>加载到内存的全部过程。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//假设HelloAction类在d:<span class="built_in">test</span>目录下的子包中</span><br><span class="line">//法一：</span><br><span class="line">java –classpath d:/<span class="built_in">test</span>  com.action.HelloAction</span><br><span class="line">//法二：</span><br><span class="line">//或者先切换到d:/<span class="built_in">test</span></span><br><span class="line">C:\&gt; <span class="built_in">cd</span> D:\<span class="built_in">test</span></span><br><span class="line">D:\<span class="built_in">test</span>&gt; java com.action.HelloAction</span><br></pre></td></tr></table></figure></p><h2 id="打包命令jar"><a href="#打包命令jar" class="headerlink" title="打包命令jar"></a>打包命令jar</h2><p><code>jar</code>命令一般情况下用来压缩class文件。目的：1.保护代码 2。方便调用<br>打包单个<code>.class</code>文件:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\&gt;jar cvf result.jar HelloWorld.class //将helloword程序打包</span><br></pre></td></tr></table></figure></p><p>打包一个目录下的所有.class文件：<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">D:</span>\&gt;jar cvf classes.jar <span class="keyword">com</span> //<span class="keyword">Com</span>是指某个包含class文件的目录</span><br></pre></td></tr></table></figure></p><h2 id="生成文档命令javadoc"><a href="#生成文档命令javadoc" class="headerlink" title="生成文档命令javadoc"></a>生成文档命令javadoc</h2><p><code>javadoc</code>命令用于生成java的javadoc注释文档电子书<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\&gt; javadoc -d d:<span class="built_in">test</span> HelloWorld.java</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;常用的dos命令：&quot;&gt;&lt;a href=&quot;#常用的dos命令：&quot; class=&quot;headerlink&quot; title=&quot;常用的dos命令：&quot;&gt;&lt;/a&gt;常用的dos命令：&lt;/h2&gt;&lt;p&gt;进入DOS的几种方式(win7)：&lt;br&gt;A.    开始菜单——-输入cmd命令，
      
    
    </summary>
    
      <category term="windows" scheme="http://yoursite.com/categories/windows/"/>
    
    
      <category term="dos" scheme="http://yoursite.com/tags/dos/"/>
    
  </entry>
  
  <entry>
    <title>Dos下的java命令</title>
    <link href="http://yoursite.com/2018/09/05/%E5%B8%B8%E7%94%A8Dos%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2018/09/05/常用Dos命令/</id>
    <published>2018-09-05T15:57:49.000Z</published>
    <updated>2018-09-05T16:05:14.343Z</updated>
    
    <content type="html"><![CDATA[<p>进入DOS的几种方式(win7)：<br>A.    开始菜单——-输入cmd命令，进入dos窗口。<br>B.    Shift键+右键—打开命令窗口</p><p>常用的dos命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">d: 回车盘符切换 </span><br><span class="line">dir(directory):列出当前目录下的文件以及文件夹 </span><br><span class="line">   显示这个目录下所有的.docx结尾的文件  dir *.docx</span><br><span class="line">md (make directory) : 创建目录</span><br><span class="line">rd (remove directory): 删除目录 ，如果目录内容不为空，rd /s 目录名</span><br><span class="line"><span class="built_in">cd</span> (change directory)改变指定目录(进入指定目录)</span><br><span class="line">   D:\&gt;<span class="built_in">cd</span> D:\烟台\Java核心编程\chapter1\code</span><br><span class="line"><span class="built_in">cd</span>.. : 退回到上一级目录   </span><br><span class="line"><span class="built_in">cd</span>/: 退回到根目录</span><br><span class="line">del (delete): 删除文件,删除一堆后缀名一样的文件*.txt</span><br><span class="line"><span class="built_in">exit</span> : 退出dos命令行</span><br><span class="line">cls : (clear screen)清屏</span><br><span class="line">创建文本文档：notepad  文件名。</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;进入DOS的几种方式(win7)：&lt;br&gt;A.    开始菜单——-输入cmd命令，进入dos窗口。&lt;br&gt;B.    Shift键+右键—打开命令窗口&lt;/p&gt;
&lt;p&gt;常用的dos命令：&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;t
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="dos" scheme="http://yoursite.com/tags/dos/"/>
    
  </entry>
  
  <entry>
    <title>String的不可变</title>
    <link href="http://yoursite.com/2018/09/05/String%E7%9A%84%E4%B8%8D%E5%8F%AF%E5%8F%98/"/>
    <id>http://yoursite.com/2018/09/05/String的不可变/</id>
    <published>2018-09-05T15:38:07.000Z</published>
    <updated>2018-09-14T08:02:52.574Z</updated>
    
    <content type="html"><![CDATA[<h2 id="什么是不可变对象？"><a href="#什么是不可变对象？" class="headerlink" title="什么是不可变对象？"></a>什么是不可变对象？</h2><p>在Java中， String类是不可变的。那么到底什么是不可变的对象呢？ 可以这样认为：如果一个对象，在它创建完成之后，不能再改变它的状态，那么这个对象就是不可变的。不能改变状态的意思是，不能改变对象内的成员变量，包括基本数据类型的值不能改变，引用类型的变量不能指向其他的对象，引用类型指向的对象的状态也不能改变。</p><h2 id="区分对象和对象的引用"><a href="#区分对象和对象的引用" class="headerlink" title="区分对象和对象的引用"></a>区分对象和对象的引用</h2><p>看下面代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">"ABCabc"</span>;</span><br><span class="line">System.out.println(<span class="string">"s = "</span> + s);<span class="comment">//s = ABCabc</span></span><br><span class="line">s = <span class="string">"123456"</span>;</span><br><span class="line">System.out.println(<span class="string">"s = "</span> + s);<span class="comment">//s = 123456</span></span><br></pre></td></tr></table></figure></p><p>首先创建一个String对象s，然后让s的值为“ABCabc”， 然后又让s的值为“123456”。 从打印结果可以看出，s的值确实改变了。那么怎么还说String对象是不可变的呢？ 其实这里存在一个误区： s只是一个String对象的引用，并不是对象本身。对象在内存中是一块内存区，成员变量越多，这块内存区占的空间越大。引用只是一个4字节的数据，里面存放了它所指向的对象的地址，通过这个地址可以访问对象。 也就是说，s只是一个引用，它指向了一个具体的对象，当s=“123456”; 这句代码执行过之后，又创建了一个新的对象“123456”， 而引用s重新指向了这个新的对象，原来的对象“ABCabc”还在内存中存在，并没有改变。内存结构如下图所示：<br><img src="/img/javaString/noChangeString.png" alt=""><br>在Java中不可能直接操作对象本身，所有的对象都由一个引用指向，必须通过这个引用才能访问对象本身，包括获取成员变量的值，改变对象的成员变量，调用对象的方法等。</p><h2 id="为什么String对象是不可变的？"><a href="#为什么String对象是不可变的？" class="headerlink" title="为什么String对象是不可变的？"></a>为什么String对象是不可变的？</h2><p>在JDK1.7中，String类的主要成员变量(源码)就剩下了两个：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">Comparable</span>&lt;<span class="title">string</span>&gt;, <span class="title">CharSequence</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** The value is used for character storage. */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">char</span> value[];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Cache the hash code for the string */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> hash; <span class="comment">// Default to 0&lt;/string&gt;</span></span><br></pre></td></tr></table></figure></p><p>由以上的代码可以看出， 在Java中String类其实就是对字符数组的封装,由final修饰符修饰，一旦赋值就不可改变。在Java中，数组也是对象。 所以value也只是一个引用，它指向一个真正的数组对象。</p><h2 id="String对象真的不可变吗？"><a href="#String对象真的不可变吗？" class="headerlink" title="String对象真的不可变吗？"></a>String对象真的不可变吗？</h2><p>从上文可知String的成员变量是private final 的，也就是初始化之后不可改变。那么在这几个成员中， value比较特殊，因为他是一个引用变量，而不是真正的对象。value是final修饰的，也就是说final不能再指向其他数组对象。但是，可以反射出String对象中的value属性， 进而改变通过获得的value引用改变数组的结构。下面是实例代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testReflection</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//创建字符串"Hello World"， 并赋给引用s</span></span><br><span class="line">    String s = <span class="string">"Hello World"</span>; </span><br><span class="line">     </span><br><span class="line">    System.out.println(<span class="string">"s = "</span> + s); <span class="comment">//Hello World</span></span><br><span class="line">     </span><br><span class="line">    <span class="comment">//获取String类中的value字段</span></span><br><span class="line">    Field valueFieldOfString = String.class.getDeclaredField(<span class="string">"value"</span>);</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//改变value属性的访问权限</span></span><br><span class="line">    valueFieldOfString.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//获取s对象上的value属性的值</span></span><br><span class="line">    <span class="keyword">char</span>[] value = (<span class="keyword">char</span>[]) valueFieldOfString.get(s);</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//改变value所引用的数组中的第5个字符</span></span><br><span class="line">    value[<span class="number">5</span>] = <span class="string">'_'</span>;</span><br><span class="line">     </span><br><span class="line">    System.out.println(<span class="string">"s = "</span> + s);  <span class="comment">//Hello_World</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在这个过程中，s始终引用的同一个String对象，但是再反射前后，这个String对象发生了变化， 也就是说，通过反射是可以修改所谓的“不可变”对象的。但是一般我们不这么做。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;什么是不可变对象？&quot;&gt;&lt;a href=&quot;#什么是不可变对象？&quot; class=&quot;headerlink&quot; title=&quot;什么是不可变对象？&quot;&gt;&lt;/a&gt;什么是不可变对象？&lt;/h2&gt;&lt;p&gt;在Java中， String类是不可变的。那么到底什么是不可变的对象呢？ 可以这样认
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java正则表达式</title>
    <link href="http://yoursite.com/2018/09/04/java%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <id>http://yoursite.com/2018/09/04/java正则表达式/</id>
    <published>2018-09-04T15:10:07.000Z</published>
    <updated>2018-09-04T15:21:49.244Z</updated>
    
    <content type="html"><![CDATA[<h2 id="正则表达式基础："><a href="#正则表达式基础：" class="headerlink" title="正则表达式基础："></a>正则表达式基础：</h2><h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p><strong><code>[abc]：</code></strong>表示从a,b,c中任取其一。[]表示这里面是一个<code>集合</code>，从当中取一个。<br><strong><code>[0-9]：</code></strong>表示数字，一位数字<br><strong><code>[a-zA-Z]：</code></strong>表示52个字母任取其一。</p><h3 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h3><p><strong><code>[abc]+：</code></strong>表示a,b,c中任取其一出现一次或者多次。<br><strong><code>[abc]\*：</code></strong>表示出现0次或多次<br><strong>？：</strong>表示0次或则一次。<br><code>正则表达式尽可能多的匹配，尽可能贪婪的匹配。</code><br>如果表达式[]里面的字符出现固定次数:<br><strong><code>[abc]{3}：</code></strong>出现3次<br><strong><code>[abc]{3，}：</code></strong>出现3至5次</p><h3 id="常见的表达式符号"><a href="#常见的表达式符号" class="headerlink" title="常见的表达式符号"></a>常见的表达式符号</h3><p>匹配所有单词：<code>[a-zA-Z]+</code>  (英文单词) ——&gt; <code>\w</code>（所有单词，汉字，…）—word<br>匹配所有的非单词：<code>[^a-zA-Z]+</code>  ——&gt;  <code>\W</code><br>匹配数字：<code>[0-9]+</code>    ——&gt;   \d<br>匹配数字：<code>[^0-9]+</code>   \D<br>匹配空白：<code>\s</code><br>匹配非空白：<code>\S</code><br>匹配所有的字符：<code>.</code><br><strong>表达式中如果出现：双引号，点号，反斜杠，问号，等均需要用反斜杠进行转义，来表达原本的含义而不是正则。</strong><br><strong>习题：</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 匹配所有单词并打印</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//法一:用正则表达式匹配出来</span></span><br><span class="line">String str = <span class="string">"213paper56apple5banana"</span>;</span><br><span class="line">String regex = <span class="string">"[a-zA-Z]+"</span>;<span class="comment">//也可以用 "\\w+" 来匹配一个或多个字母</span></span><br><span class="line">Pattern pattern = Pattern.compile(regex);<span class="comment">//编译一个模式,pattern是一个模式</span></span><br><span class="line">Matcher matcher = pattern.matcher(str);<span class="comment">//用模式来匹配s字符串</span></span><br><span class="line"><span class="comment">//打印结果</span></span><br><span class="line"><span class="keyword">while</span>(matcher.find())&#123;</span><br><span class="line">String word = matcher.group();</span><br><span class="line">System.out.println(word);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//方法二:split用数字分割数组</span></span><br><span class="line">String[] arr = str.split(<span class="string">"[1-9]+"</span>);<span class="comment">//也可用 "\\d+" 来匹配一个或多个数字</span></span><br><span class="line"><span class="keyword">for</span> (String word : arr) &#123;</span><br><span class="line">System.out.println(word);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;正则表达式基础：&quot;&gt;&lt;a href=&quot;#正则表达式基础：&quot; class=&quot;headerlink&quot; title=&quot;正则表达式基础：&quot;&gt;&lt;/a&gt;正则表达式基础：&lt;/h2&gt;&lt;h3 id=&quot;集合&quot;&gt;&lt;a href=&quot;#集合&quot; class=&quot;headerlink&quot; titl
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="正则表达式" scheme="http://yoursite.com/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Oracle存储过程与存储函数</title>
    <link href="http://yoursite.com/2018/08/22/Oracle%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%AD%98%E5%82%A8%E5%87%BD%E6%95%B0/"/>
    <id>http://yoursite.com/2018/08/22/Oracle存储过程与存储函数/</id>
    <published>2018-08-22T14:13:54.000Z</published>
    <updated>2018-08-22T14:15:20.859Z</updated>
    
    <content type="html"><![CDATA[<p><strong>存储过程和存储函数</strong><br>存储在数据库中供所有用户程序调用的子程序叫做<code>存储过程,存储函数</code>.<br>由于通过out参数,存储过程也可以返回函数值.所以存储过程和存储函数已经没有太大的区别了.而存储函数仍然存在,是由于oracle不断升级,需要实现向下兼容,所以存储函数就一直存留着.<br><strong>区别:</strong><br>是否可以通过return返回函数值.存储函数可以通过return返回函数值,而存储过程不可以.</p><h2 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h2><h3 id="1-创建和使用存储过程"><a href="#1-创建和使用存储过程" class="headerlink" title="1.创建和使用存储过程"></a>1.创建和使用存储过程</h3><p>用create procedure命令建立存储过程和存储函数.<br>语法:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> <span class="keyword">replace</span>] <span class="keyword">procedure</span> 过程名(参数列表)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">PLSQL子程序体;</span><br></pre></td></tr></table></figure></p><p><strong>注意事项:</strong><br>(1)存储过程或者存储函数,只能创建或者替换.<br>(2)参数可以带也可以不带.<br>(3)as相当于PLSQL语句中的declare,用来声明变量,游标等,但是不可以省略.</p><h3 id="2-入门案例"><a href="#2-入门案例" class="headerlink" title="2.入门案例:"></a>2.入门案例:</h3><p>不带参数的存储过程:不用带括号<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">procedure</span> sayHello</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   dbms_output.put_line(<span class="string">'HelloWorld'</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><p><strong>调用方式:</strong><br>(1) 使用execute;<br>(2) 使用PLSQL语句调用;</p><h3 id="3-带参数的存储过程"><a href="#3-带参数的存储过程" class="headerlink" title="3.带参数的存储过程:"></a>3.带参数的存储过程:</h3><p>给指定的员工涨100元工资,并且打印涨前和涨后的薪水:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">procedure</span> addSal(pempno <span class="keyword">in</span> emp.empno%<span class="keyword">type</span>)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">  pename emp.ename%<span class="keyword">type</span>;</span><br><span class="line">  beforesal emp.sal%type;</span><br><span class="line">  aftersal emp.sal%type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> ename,sal <span class="keyword">into</span> pename,beforesal <span class="keyword">from</span> emp <span class="keyword">where</span> empno=pempno;</span><br><span class="line">  aftersal:=beforesal+100;</span><br><span class="line">  <span class="keyword">update</span> emp <span class="keyword">set</span> sal=aftersal <span class="keyword">where</span> empno=pempno; </span><br><span class="line">  dbms_output.put_line('姓名: '||pename||' 涨前工资:'||beforesal||'涨后工资:'||aftersal);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><p><strong>注意:</strong><br>(1)要说明,参数是输入参数(in)还是输出参数(out);<br>(2)为保证调用多个存储过程中处在同一个事务中,所以一般不在存储过程或者存储函数中,commit或rollback;</p><h3 id="4-调试存储过程"><a href="#4-调试存储过程" class="headerlink" title="4.调试存储过程:"></a>4.调试存储过程:</h3><p><strong>注意:</strong><br>(1) oracle数据库和PLSQL工具都是放在同一个机器上;<br>(2) 在开启调试时,可能会报出权限不够的错误信息,通过下面方式进行授权:</p><h2 id="存储函数"><a href="#存储函数" class="headerlink" title="存储函数"></a>存储函数</h2><h3 id="1-存储函数"><a href="#1-存储函数" class="headerlink" title="1.存储函数:"></a>1.存储函数:</h3><p><code>函数(Function)</code>为一命名的存储程序,可带参数,并返回一计算值.<br>函数和过程的结构类似,但必须有一个return子句,用于返回函数值.</p><h3 id="2-创建存储函数的语法"><a href="#2-创建存储函数的语法" class="headerlink" title="2.创建存储函数的语法:"></a>2.创建存储函数的语法:</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> <span class="keyword">replace</span>] <span class="keyword">function</span> 函数名(参数列表)</span><br><span class="line"><span class="keyword">return</span> 函数值类型</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">PLSQL子程序体;</span><br></pre></td></tr></table></figure><p><strong>注意事项:</strong><br>(1) 与存储过程注意事项类似,不同的是,必须有个返回值;<br>(2) 参数列表可以有,也可以没有.当没有时,函数名后面不要带括号.<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">function</span> queryempannal(pempno <span class="keyword">in</span> <span class="built_in">number</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">number</span></span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">  psal emp.sal%<span class="keyword">type</span>;</span><br><span class="line">  pcomm emp.comm%type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> sal,comm <span class="keyword">into</span> psal,pcomm <span class="keyword">from</span> emp <span class="keyword">where</span> empno=pempno;</span><br><span class="line">  return psal*12+nvl(pcomm,0);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><h2 id="in和out参数"><a href="#in和out参数" class="headerlink" title="in和out参数"></a>in和out参数</h2><h3 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h3><p>(1)一般来讲,存储过程和存储函数的区别在于存储函数可以有一个返回值;而存储过程没有返回值.<br>(2)过程和函数都可以通过out指定一个或多个输出参数.我们可以利用out参数,在过程和函数中实现返回多个值.<br>a. 存储过程和存储函数都可以有out参数;<br>b. 存储过程和存储函数都可以有多个out参数;<br>c. 存储过程可以通过out参数来实现返回值;<br>(3)什么时候用存储过程/存储函数?<br>原则:如果只有一个返回值,用存储函数;否则,就用存储过程.<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">procedure</span> queryempinform(eno <span class="keyword">in</span> <span class="built_in">number</span>,</span><br><span class="line">                                           pename <span class="keyword">out</span> varchar2,</span><br><span class="line">                                           psal <span class="keyword">out</span> <span class="built_in">number</span>,</span><br><span class="line">                                           pjob <span class="keyword">out</span> varchar2 )</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> ename,sal,job <span class="keyword">into</span> pename,psal,pjob <span class="keyword">from</span> emp <span class="keyword">where</span> empno=eno;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><h2 id="在应用程序中访问存储过程和存储函数"><a href="#在应用程序中访问存储过程和存储函数" class="headerlink" title="在应用程序中访问存储过程和存储函数"></a>在应用程序中访问存储过程和存储函数</h2><h3 id="1-访问存储过程"><a href="#1-访问存储过程" class="headerlink" title="1.访问存储过程"></a>1.访问存储过程</h3><p><strong>工具类 JDBCUtils:</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test.oracle.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">static</span> String driver= <span class="string">"oracle.jdbc.OracleDriver"</span> ;</span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">static</span> String url =<span class="string">"jdbc:oracle:thin:@192.168.56.6:1521:orcl"</span> ;</span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">static</span> String user= <span class="string">"scott"</span> ;</span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">static</span> String password= <span class="string">"tiger"</span> ;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//注册数据库的驱动</span></span><br><span class="line">       <span class="keyword">static</span> &#123;</span><br><span class="line">             <span class="keyword">try</span> &#123;</span><br><span class="line">                  Class. forName( driver);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClassNotFoundException e ) &#123;</span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//获取数据库连接</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">             <span class="keyword">try</span> &#123;</span><br><span class="line">                   <span class="keyword">return</span> DriverManager.getConnection( url , user , password );</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e ) &#123;</span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">             <span class="keyword">return</span> <span class="keyword">null</span> ;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//释放数据库资源</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(Connection conn,Statement sta ,ResultSet rst )</span></span>&#123;</span><br><span class="line">             <span class="keyword">if</span> (conn != <span class="keyword">null</span>) &#123;</span><br><span class="line">                   <span class="keyword">try</span> &#123;</span><br><span class="line">                         conn .close();</span><br><span class="line">                  &#125; <span class="keyword">catch</span> (SQLException e ) &#123;</span><br><span class="line">                         e.printStackTrace();</span><br><span class="line">                  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                         conn =<span class="keyword">null</span> ;</span><br><span class="line">                  &#125;</span><br><span class="line">            &#125;</span><br><span class="line">             <span class="keyword">if</span> (sta != <span class="keyword">null</span>) &#123;</span><br><span class="line">                   <span class="keyword">try</span> &#123;</span><br><span class="line">                         sta .close();</span><br><span class="line">                  &#125; <span class="keyword">catch</span> (SQLException e ) &#123;</span><br><span class="line">                         e.printStackTrace();</span><br><span class="line">                  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                         sta =<span class="keyword">null</span> ;</span><br><span class="line">                  &#125;</span><br><span class="line">            &#125;</span><br><span class="line">             <span class="keyword">if</span> (rst != <span class="keyword">null</span>) &#123;</span><br><span class="line">                   <span class="keyword">try</span> &#123;</span><br><span class="line">                         rst .close();</span><br><span class="line">                  &#125; <span class="keyword">catch</span> (SQLException e ) &#123;</span><br><span class="line">                         e.printStackTrace();</span><br><span class="line">                  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                         rst =<span class="keyword">null</span> ;</span><br><span class="line">                  &#125;</span><br><span class="line">            &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>TestProcedure.class</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test.oracle.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.CallableStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> oracle.jdbc.driver.OracleTypes;</span><br><span class="line"><span class="keyword">import</span> test.oracle.utils.JDBCUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestProcedure</span> </span>&#123;</span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">       create or replace procedure queryempinform(eno in number,</span></span><br><span class="line"><span class="comment">                                           pename out varchar2,</span></span><br><span class="line"><span class="comment">                                           psal out number,</span></span><br><span class="line"><span class="comment">                                           pjob out varchar2 )</span></span><br><span class="line"><span class="comment">            as</span></span><br><span class="line"><span class="comment">            begin</span></span><br><span class="line"><span class="comment">              select ename,sal ,job into pename, psal,pjob from emp where empno=eno ;</span></span><br><span class="line"><span class="comment">            end;</span></span><br><span class="line"><span class="comment">            /</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">       <span class="meta">@Test</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testProcedure</span><span class="params">()</span></span>&#123;</span><br><span class="line">             <span class="comment">/*</span></span><br><span class="line"><span class="comment">             &#123;call &lt;procedure-name&gt;[(&lt;arg1&gt;,&lt;arg2&gt;, ...)]&#125;</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            String sql =<span class="string">"&#123;call queryempinform(?,?,?,?)&#125;"</span> ;</span><br><span class="line">            Connection conn =<span class="keyword">null</span> ;</span><br><span class="line">            CallableStatement sta =<span class="keyword">null</span> ;</span><br><span class="line">             <span class="keyword">try</span> &#123;</span><br><span class="line">                   <span class="comment">//获取连接</span></span><br><span class="line">                   conn = JDBCUtils.getConnection();</span><br><span class="line">                   <span class="comment">//通过连接创建statement</span></span><br><span class="line">                   sta =conn .prepareCall( sql);</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//对于in参数,赋值</span></span><br><span class="line">                   sta .setInt(<span class="number">1</span>, <span class="number">7839</span>);</span><br><span class="line">                   <span class="comment">//对于out参数,申明</span></span><br><span class="line">                   sta .registerOutParameter(<span class="number">2</span>, OracleTypes. VARCHAR);</span><br><span class="line">                   sta .registerOutParameter(<span class="number">3</span>, OracleTypes. NUMBER);</span><br><span class="line">                   sta .registerOutParameter(<span class="number">4</span>, OracleTypes. VARCHAR);</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//执行调用</span></span><br><span class="line">                   sta .execute();</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//取出结果</span></span><br><span class="line">                  String name = sta .getString(<span class="number">2</span>);</span><br><span class="line">                   <span class="keyword">double</span> sal = sta.getDouble(<span class="number">3</span>);</span><br><span class="line">                  String job = sta .getString(<span class="number">4</span>);</span><br><span class="line">                  System. out .println(name +<span class="string">"\t"</span> +sal +<span class="string">"\t"</span> +job );</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e ) &#123;</span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                  JDBCUtils. release( conn, sta, <span class="keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="2-访问存储函数"><a href="#2-访问存储函数" class="headerlink" title="2.访问存储函数"></a>2.访问存储函数</h3><p><strong>TestFunction.class</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test.oracle.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.CallableStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> oracle.jdbc.driver.OracleTypes;</span><br><span class="line"><span class="keyword">import</span> test.oracle.utils.JDBCUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFunction</span> </span>&#123;</span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">       create or replace function queryempannal(pempno in number)</span></span><br><span class="line"><span class="comment">            return number</span></span><br><span class="line"><span class="comment">            as</span></span><br><span class="line"><span class="comment">              psal emp.sal%type;</span></span><br><span class="line"><span class="comment">              pcomm emp.comm%type;</span></span><br><span class="line"><span class="comment">            begin</span></span><br><span class="line"><span class="comment">              select sal,comm into psal, pcomm from emp where empno=pempno ;</span></span><br><span class="line"><span class="comment">              return psal*12+nvl (pcomm,0);</span></span><br><span class="line"><span class="comment">            end;</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">       <span class="meta">@Test</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFunction</span><span class="params">()</span></span>&#123;</span><br><span class="line">             <span class="comment">// &#123;?= call &lt;procedure-name&gt;[(&lt;arg1&gt;,&lt;arg2&gt;, ...)]&#125;</span></span><br><span class="line">            String sql =<span class="string">"&#123;?= call queryempannal(?)&#125;"</span> ;</span><br><span class="line">            Connection conn =<span class="keyword">null</span> ;</span><br><span class="line">            CallableStatement call =<span class="keyword">null</span> ;</span><br><span class="line">             <span class="keyword">try</span> &#123;</span><br><span class="line">                   <span class="comment">//获取数据库连接</span></span><br><span class="line">                   conn = JDBCUtils.getConnection();</span><br><span class="line">                   <span class="comment">//通过连接获取statement对象</span></span><br><span class="line">                   call =conn .prepareCall( sql);</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//对于out参数   声明</span></span><br><span class="line">                   call .registerOutParameter(<span class="number">1</span>, OracleTypes. NUMBER);</span><br><span class="line">                   <span class="comment">//对于in参数   赋值</span></span><br><span class="line">                   call .setInt(<span class="number">2</span>, <span class="number">7839</span>);</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//执行调用</span></span><br><span class="line">                   call .execute();</span><br><span class="line">                   <span class="keyword">double</span> income =call .getDouble(<span class="number">1</span>);</span><br><span class="line">                  System. out .println(<span class="string">"该员工的年收入为:"</span> +income );</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e ) &#123;</span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                   <span class="comment">//释放资源</span></span><br><span class="line">                  JDBCUtils. release( conn, call, <span class="keyword">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>思考:</strong><br>(1)查询某个员工的所有信息—&gt;out参数太多?<br>(2)查询某个部门中所有员工的所有信息 —&gt;out中返回集合?</p><h2 id="在out参数中使用光标-解决上述问题"><a href="#在out参数中使用光标-解决上述问题" class="headerlink" title="在out参数中使用光标,解决上述问题"></a>在out参数中使用光标,解决上述问题</h2><p>申明包结构 , 包头 ,包体<br>案例:查询某个部门中所有员工的所有信息</p><h3 id="包头"><a href="#包头" class="headerlink" title="包头:"></a>包头:</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">package</span> mypackage01 <span class="keyword">as</span></span><br><span class="line">     <span class="comment">--使用type关键字,自定义一个光标类型</span></span><br><span class="line">     <span class="keyword">type</span> empcursor <span class="keyword">is</span> <span class="keyword">ref</span> <span class="keyword">cursor</span>;</span><br><span class="line">     procedure queryEmpList(dno in number,empList out empcursor);</span><br><span class="line"><span class="keyword">end</span> mypackage01;</span><br></pre></td></tr></table></figure><h3 id="包体"><a href="#包体" class="headerlink" title="包体:"></a>包体:</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">package</span> <span class="keyword">body</span> mypackage01 <span class="keyword">as</span></span><br><span class="line">     <span class="keyword">procedure</span> queryEmpList(dno <span class="keyword">in</span> <span class="built_in">number</span>,empList <span class="keyword">out</span> empcursor) <span class="keyword">as</span></span><br><span class="line">     <span class="keyword">begin</span></span><br><span class="line">          <span class="keyword">open</span> empList <span class="keyword">for</span> <span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno=dno;</span><br><span class="line">     <span class="keyword">end</span> queryEmpList;</span><br><span class="line"><span class="keyword">end</span> mypackage01;</span><br></pre></td></tr></table></figure><p>在控制台,可以使用desc查看程序包的结构:<br><code>desc mypackage01</code></p><h2 id="在应用中访问包中的存储过程"><a href="#在应用中访问包中的存储过程" class="headerlink" title="在应用中访问包中的存储过程"></a>在应用中访问包中的存储过程</h2><p><strong>注意:</strong>需要带上包名<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test.oracle.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.CallableStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> oracle.jdbc.driver.OracleCallableStatement;</span><br><span class="line"><span class="keyword">import</span> oracle.jdbc.driver.OracleTypes;</span><br><span class="line"><span class="keyword">import</span> test.oracle.utils.JDBCUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCursor</span> </span>&#123;</span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">            CREATE OR REPLACE</span></span><br><span class="line"><span class="comment">            PACKAGE MYPACKAGE01 AS</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">              type empcursor is ref cursor;</span></span><br><span class="line"><span class="comment">              procedure queryEmpList( dno in number,empList out empcursor);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            END MYPACKAGE01;</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">       <span class="meta">@Test</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCursor</span><span class="params">()</span></span>&#123;</span><br><span class="line">             <span class="comment">//&#123;call &lt;procedure-name&gt;[(&lt;arg1&gt;,&lt;arg2&gt;, ...)]&#125;</span></span><br><span class="line">            String sql =<span class="string">"&#123;call MYPACKAGE01.queryEmpList(?,?)&#125;"</span> ;</span><br><span class="line">            Connection conn =<span class="keyword">null</span> ;</span><br><span class="line">            CallableStatement call =<span class="keyword">null</span> ;</span><br><span class="line">            ResultSet rs= <span class="keyword">null</span> ;</span><br><span class="line">             <span class="keyword">try</span> &#123;</span><br><span class="line">                   <span class="comment">//获取数据库连接</span></span><br><span class="line">                   conn =JDBCUtils.getConnection();</span><br><span class="line">                   <span class="comment">//通过连接获取statement</span></span><br><span class="line">                   call =conn .prepareCall( sql);</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//对于in 参数   赋值</span></span><br><span class="line">                   call .setInt(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">                   <span class="comment">//对于out参数 申明</span></span><br><span class="line">                   call.registerOutParameter(<span class="number">2</span>, OracleTypes. CURSOR);</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//执行调用</span></span><br><span class="line">                   call .execute();</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//获取到指定部门的所有的员工的所有信息</span></span><br><span class="line">                   rs=((OracleCallableStatement) call ).getCursor(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">                   <span class="comment">//遍历结果集</span></span><br><span class="line">                   <span class="keyword">while</span> (rs .next()) &#123;</span><br><span class="line">                         <span class="comment">//获取员工的编号 姓名 薪水 职位</span></span><br><span class="line">                         <span class="keyword">int</span> empno =rs .getInt( <span class="string">"empno"</span>);</span><br><span class="line">                        String ename =rs .getString( <span class="string">"ename"</span>);</span><br><span class="line">                         <span class="keyword">double</span> sal =rs .getDouble( <span class="string">"sal"</span>);</span><br><span class="line">                        String job =rs .getString( <span class="string">"job"</span>);</span><br><span class="line">                        System. out .println(empno +<span class="string">"\t"</span> +ename +<span class="string">"\t"</span> +sal +<span class="string">"\t"</span> +job );</span><br><span class="line"></span><br><span class="line">                  &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e ) &#123;</span><br><span class="line">                   <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                  JDBCUtils. release( conn, call, rs);</span><br><span class="line">            &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;存储过程和存储函数&lt;/strong&gt;&lt;br&gt;存储在数据库中供所有用户程序调用的子程序叫做&lt;code&gt;存储过程,存储函数&lt;/code&gt;.&lt;br&gt;由于通过out参数,存储过程也可以返回函数值.所以存储过程和存储函数已经没有太大的区别了.而存储函数仍然存在,是由于
      
    
    </summary>
    
      <category term="数据库" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="oracle" scheme="http://yoursite.com/tags/oracle/"/>
    
  </entry>
  
  <entry>
    <title>java封装树型数据结构</title>
    <link href="http://yoursite.com/2018/08/21/java%E5%B0%81%E8%A3%85%E6%A0%91%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    <id>http://yoursite.com/2018/08/21/java封装树型数据结构/</id>
    <published>2018-08-21T13:40:27.000Z</published>
    <updated>2018-08-23T14:15:23.317Z</updated>
    
    <content type="html"><![CDATA[<p>此方法使用于通过id,pid关联的树形对象.多用于无深度确定的树形结构,常用于联动菜单，多级下拉菜单等数据结构类型的封装<br>树型数据结构应用：<a href="http://www.jq22.com/jquery-info10461" target="_blank" rel="noopener">TreeView</a></p><h3 id="1-创建树形结构实体对象"><a href="#1-创建树形结构实体对象" class="headerlink" title="1.创建树形结构实体对象"></a>1.创建树形结构实体对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.group.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//节点ID，这个节点的唯一标识，通常情况下使用主键或者列的唯一标识都可以。</span></span><br><span class="line">   <span class="comment">//这里使用String类型是为了兼容所有的标识，可以是数字类型的字符形式</span></span><br><span class="line">   <span class="keyword">private</span> String id;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//节点的父节点</span></span><br><span class="line">   <span class="keyword">private</span> String parentId;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//这个节点显示的文本</span></span><br><span class="line">   <span class="keyword">private</span> String text;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//是否有父节点</span></span><br><span class="line">   <span class="keyword">private</span> Boolean haveParent = <span class="keyword">false</span>;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//是否有子节点</span></span><br><span class="line">   <span class="keyword">private</span> Boolean haveChildrens = <span class="keyword">false</span>;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//默认构造方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Tree</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//本例中使用</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Tree</span><span class="params">(String id, String parentId, String text, Boolean haveParent, Boolean haveChildrens)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.id = id;</span><br><span class="line"><span class="keyword">this</span>.parentId = parentId;</span><br><span class="line"><span class="keyword">this</span>.text = text;</span><br><span class="line"><span class="keyword">this</span>.haveParent = haveParent;</span><br><span class="line"><span class="keyword">this</span>.haveChildrens = haveChildrens;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Tree</span><span class="params">(String id, String parentId, String text, Boolean haveParent, Boolean haveChildrens,</span></span></span><br><span class="line"><span class="function"><span class="params">Map&lt;String, Object&gt; attributes)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.id = id;</span><br><span class="line"><span class="keyword">this</span>.parentId = parentId;</span><br><span class="line"><span class="keyword">this</span>.text = text;</span><br><span class="line"><span class="keyword">this</span>.haveParent = haveParent;</span><br><span class="line"><span class="keyword">this</span>.haveChildrens = haveChildrens;</span><br><span class="line"><span class="keyword">this</span>.attributes = attributes;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//节点子节点</span></span><br><span class="line">   <span class="keyword">private</span> List&lt;Tree&lt;T&gt;&gt; children = <span class="keyword">new</span> ArrayList&lt;Tree&lt;T&gt;&gt;();</span><br><span class="line">      </span><br><span class="line">   <span class="comment">//节点的额外属性，比如把展开属性和选中属性设置在这里</span></span><br><span class="line">   <span class="keyword">private</span> Map&lt;String,Object&gt; attributes;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> id;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.id = id;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getParentId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> parentId;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setParentId</span><span class="params">(String parentId)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.parentId = parentId;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getText</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> text;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setText</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.text = text;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> List&lt;Tree&lt;T&gt;&gt; getChildren() &#123;</span><br><span class="line">      <span class="keyword">return</span> children;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setChildren</span><span class="params">(List&lt;Tree&lt;T&gt;&gt; children)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.children = children;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getAttributes</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> attributes;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAttributes</span><span class="params">(Map&lt;String, Object&gt; attributes)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.attributes = attributes;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Boolean <span class="title">getHaveParent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> haveParent;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHaveParent</span><span class="params">(Boolean haveParent)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.haveParent = haveParent;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Boolean <span class="title">getHaveChildrens</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> haveChildrens;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHaveChildrens</span><span class="params">(Boolean haveChildrens)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.haveChildrens = haveChildrens;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-使用工具类，将集合转换为树形结构-返回树"><a href="#2-使用工具类，将集合转换为树形结构-返回树" class="headerlink" title="2.使用工具类，将集合转换为树形结构,返回树"></a>2.使用工具类，将集合转换为树形结构,返回树</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.group.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> com.group.entity.Tree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Tree&lt;T&gt; <span class="title">buildToTree</span><span class="params">(List&lt;Tree&lt;T&gt;&gt; nodes,String rootNodeName)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//如果节点的List为null，就返回null</span></span><br><span class="line">      <span class="keyword">if</span> (nodes == <span class="keyword">null</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//没有父节点节点列表</span></span><br><span class="line">      List&lt;Tree&lt;T&gt;&gt; topNodes = <span class="keyword">new</span> ArrayList&lt;Tree&lt;T&gt;&gt;();</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> (Tree&lt;T&gt; children : nodes) &#123;</span><br><span class="line">         </span><br><span class="line">         <span class="comment">//遍历所有的节点，找出所有的顶级节点，将没有父节点的节点存起来</span></span><br><span class="line">         String pid = children.getParentId();</span><br><span class="line">         <span class="keyword">if</span> (pid == <span class="keyword">null</span> || <span class="string">""</span>.equals(pid)) &#123;</span><br><span class="line">            topNodes.add(children);</span><br><span class="line">            <span class="comment">//只要没有父节点，添加后就跳过</span></span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">         &#125;</span><br><span class="line">   </span><br><span class="line">         <span class="comment">//那么剩下的节点都是有父节点,我们给这个孩子节点找父亲节点</span></span><br><span class="line">         <span class="keyword">for</span> (Tree&lt;T&gt; parent : nodes) &#123;</span><br><span class="line">            String id = parent.getId();</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (id != <span class="keyword">null</span> &amp;&amp; id.equals(pid)) &#123;</span><br><span class="line">               parent.getChildren().add(children);</span><br><span class="line">               children.setHaveParent(<span class="keyword">true</span>);</span><br><span class="line">               parent.setHaveChildrens(<span class="keyword">true</span>);</span><br><span class="line">               <span class="comment">//如果找到父节点并将子节点设置到这个父节点上就可以停止继续循环查找</span></span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//把根节点返回，如果没有父节点不只一个，我们给这些节点创建一个根节点</span></span><br><span class="line">      Tree&lt;T&gt; root = <span class="keyword">new</span> Tree&lt;T&gt;();</span><br><span class="line">      <span class="keyword">if</span> (topNodes.size() == <span class="number">1</span>) &#123;</span><br><span class="line">         root = topNodes.get(<span class="number">0</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         root.setId(<span class="string">"-1"</span>);</span><br><span class="line">         root.setParentId(<span class="string">""</span>);</span><br><span class="line">         root.setHaveParent(<span class="keyword">false</span>);</span><br><span class="line">         root.setHaveChildrens(<span class="keyword">true</span>);</span><br><span class="line">         root.setAttributes(<span class="keyword">null</span>);</span><br><span class="line">         root.setChildren(topNodes);</span><br><span class="line">         root.setText(rootNodeName);</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-测试及结果"><a href="#3-测试及结果" class="headerlink" title="3.测试及结果"></a>3.测试及结果</h3><p>测试类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.group.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.group.entity.Tree;</span><br><span class="line"><span class="keyword">import</span> com.group.util.TreeUtilB;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BuildToThree</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">List&lt;Tree&lt;String&gt;&gt; nodes = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Map mp = <span class="keyword">new</span> HashMap();</span><br><span class="line">mp.put(<span class="string">"student_name"</span>, <span class="string">"张三"</span>);</span><br><span class="line">mp.put(<span class="string">"student_sex"</span>, <span class="string">"男"</span>);</span><br><span class="line">mp.put(<span class="string">"student_age"</span>, <span class="string">"22"</span>);</span><br><span class="line"><span class="comment">//一级节点一</span></span><br><span class="line">nodes.add(<span class="keyword">new</span> Tree&lt;String&gt;(<span class="string">"1"</span>, <span class="keyword">null</span>, <span class="string">"一级根节点一"</span>, <span class="keyword">false</span>, <span class="keyword">true</span> , mp));</span><br><span class="line"><span class="comment">//一级节点下的两个子节点</span></span><br><span class="line">nodes.add(<span class="keyword">new</span> Tree&lt;String&gt;(<span class="string">"11"</span>, <span class="string">"1"</span>, <span class="string">"二级节点一"</span>, <span class="keyword">true</span>, <span class="keyword">false</span>));</span><br><span class="line">nodes.add(<span class="keyword">new</span> Tree&lt;String&gt;(<span class="string">"12"</span>, <span class="string">"1"</span>, <span class="string">"二级节点二"</span>, <span class="keyword">true</span>, <span class="keyword">false</span>));</span><br><span class="line"><span class="comment">//一级节点二</span></span><br><span class="line">nodes.add(<span class="keyword">new</span> Tree&lt;String&gt;(<span class="string">"2"</span>, <span class="keyword">null</span>, <span class="string">"一级节点二"</span>, <span class="keyword">false</span>, <span class="keyword">true</span>));</span><br><span class="line"><span class="comment">//一级节点二下的两个子节点</span></span><br><span class="line">nodes.add(<span class="keyword">new</span> Tree&lt;String&gt;(<span class="string">"21"</span>, <span class="string">"2"</span>, <span class="string">"二级节点一"</span>, <span class="keyword">true</span>, <span class="keyword">false</span>));</span><br><span class="line">nodes.add(<span class="keyword">new</span> Tree&lt;String&gt;(<span class="string">"22"</span>, <span class="string">"2"</span>, <span class="string">"二级节点二"</span>, <span class="keyword">true</span>, <span class="keyword">false</span>));</span><br><span class="line"><span class="comment">//一级节点三</span></span><br><span class="line">nodes.add(<span class="keyword">new</span> Tree&lt;String&gt;(<span class="string">"3"</span>, <span class="keyword">null</span>, <span class="string">"一级节点三"</span>, <span class="keyword">false</span>, <span class="keyword">false</span>));</span><br><span class="line">Tree&lt;String&gt; buildToTree = TreeUtilB.buildToTree(nodes, <span class="string">"没有手动设置根节点"</span>);</span><br><span class="line">String treeString = JSON.toJSONString(buildToTree);</span><br><span class="line">System.out.println(treeString);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>结果：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"children"</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"attributes"</span>:&#123;</span><br><span class="line">                <span class="attr">"student_name"</span>:<span class="string">"张三"</span>,</span><br><span class="line">                <span class="attr">"student_age"</span>:<span class="string">"22"</span>,</span><br><span class="line">                <span class="attr">"student_sex"</span>:<span class="string">"男"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"children"</span>:[</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"children"</span>:[</span><br><span class="line"></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="attr">"haveChildrens"</span>:<span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">"haveParent"</span>:<span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">"id"</span>:<span class="string">"11"</span>,</span><br><span class="line">                    <span class="attr">"parentId"</span>:<span class="string">"1"</span>,</span><br><span class="line">                    <span class="attr">"text"</span>:<span class="string">"二级节点一"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"children"</span>:[</span><br><span class="line"></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="attr">"haveChildrens"</span>:<span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">"haveParent"</span>:<span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">"id"</span>:<span class="string">"12"</span>,</span><br><span class="line">                    <span class="attr">"parentId"</span>:<span class="string">"1"</span>,</span><br><span class="line">                    <span class="attr">"text"</span>:<span class="string">"二级节点二"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"haveChildrens"</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="attr">"haveParent"</span>:<span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"id"</span>:<span class="string">"1"</span>,</span><br><span class="line">            <span class="attr">"text"</span>:<span class="string">"一级根节点一"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"children"</span>:[</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"children"</span>:[</span><br><span class="line"></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="attr">"haveChildrens"</span>:<span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">"haveParent"</span>:<span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">"id"</span>:<span class="string">"21"</span>,</span><br><span class="line">                    <span class="attr">"parentId"</span>:<span class="string">"2"</span>,</span><br><span class="line">                    <span class="attr">"text"</span>:<span class="string">"二级节点一"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"children"</span>:[</span><br><span class="line"></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="attr">"haveChildrens"</span>:<span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">"haveParent"</span>:<span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">"id"</span>:<span class="string">"22"</span>,</span><br><span class="line">                    <span class="attr">"parentId"</span>:<span class="string">"2"</span>,</span><br><span class="line">                    <span class="attr">"text"</span>:<span class="string">"二级节点二"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"haveChildrens"</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="attr">"haveParent"</span>:<span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"id"</span>:<span class="string">"2"</span>,</span><br><span class="line">            <span class="attr">"text"</span>:<span class="string">"一级节点二"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"children"</span>:[</span><br><span class="line"></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"haveChildrens"</span>:<span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"haveParent"</span>:<span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"id"</span>:<span class="string">"3"</span>,</span><br><span class="line">            <span class="attr">"text"</span>:<span class="string">"一级节点三"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"haveChildrens"</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"haveParent"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"id"</span>:<span class="string">"-1"</span>,</span><br><span class="line">    <span class="attr">"parentId"</span>:<span class="string">""</span>,</span><br><span class="line">    <span class="attr">"text"</span>:<span class="string">"没有手动设置根节点"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;此方法使用于通过id,pid关联的树形对象.多用于无深度确定的树形结构,常用于联动菜单，多级下拉菜单等数据结构类型的封装&lt;br&gt;树型数据结构应用：&lt;a href=&quot;http://www.jq22.com/jquery-info10461&quot; target=&quot;_blank&quot; r
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java工具类" scheme="http://yoursite.com/tags/java%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>JVM(一)内存分布</title>
    <link href="http://yoursite.com/2018/08/19/JVM-%E4%B8%80-%E5%86%85%E5%AD%98%E5%88%86%E5%B8%83/"/>
    <id>http://yoursite.com/2018/08/19/JVM-一-内存分布/</id>
    <published>2018-08-19T14:36:52.000Z</published>
    <updated>2018-08-21T14:24:26.278Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、JVM概述"><a href="#一、JVM概述" class="headerlink" title="一、JVM概述"></a>一、JVM概述</h2><p>①所有的java代码都是在虚拟机中运行的。<br>②一次编译,到处运行。JVM可以和不同的操作系统交互。Java是一门跨平台性语言。</p><h2 id="二、JVM、JDK-、JRE区别"><a href="#二、JVM、JDK-、JRE区别" class="headerlink" title="二、JVM、JDK 、JRE区别"></a>二、JVM、JDK 、JRE区别</h2><p><strong>JDK：</strong>(Java Development Kit) 是Java语言的软件开发工具包。<br><strong>JRE：</strong>在JDK的安装目录下有一个jre目录，里面有bin和lib两个文件夹，可以认为bin里的就是JVM，lib中则是jvm工作所需要的类库，而jvm和lib合起来称为jre。<br><img src="/img/JVM/jdk_jvm_jre.png" alt=""><br><strong>总结：</strong></p><ul><li>JDK是整个Java的核心，包括了Java运行环境JRE、Java工具和Java基础类库。</li><li>JRE是运行JAVA程序所必须的环境的集合，包含JVM标准实现及Java核心类库。</li><li>JVM是整个java实现跨平台的最核心的部分，能够运行以Java语言写的程序。</li></ul><h2 id="三、JVM内存分布"><a href="#三、JVM内存分布" class="headerlink" title="三、JVM内存分布"></a>三、JVM内存分布</h2><p><img src="/img/JVM/jvm_memory.png" alt=""></p><h3 id="1-方法区"><a href="#1-方法区" class="headerlink" title="1.方法区"></a>1.方法区</h3><p>线程共享，存储已经被虚拟机加载的类信息（全限定名，父类全限定名、接口、类、修饰词、方法信息、属性信息…）、常量、静态变量、即时编译器编译后的代码等元数据信息。<br>在方法区有一块非常重要的子内存空间，常量池。</p><h3 id="2-堆"><a href="#2-堆" class="headerlink" title="2.堆"></a>2.堆</h3><p>Java中的堆是用来存储对象本身以及数组的（数组引用是存放在Java栈中）。<br>Java的垃圾回收机制会自动进行处理。因此这部分空间也是GC管理的主要区域。<br>另外，堆是被所有线程共享的，在JVM中只有一个堆。<br>堆内存不足会抛OutOfMemoryError异常。<br>堆又细分为新生代和老年代，新生代又分为Eden空间、From Survivor空间、To Survivor空间。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestHeap</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> i = <span class="number">1</span> ;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">heapOverflow</span><span class="params">()</span></span>&#123;</span><br><span class="line">        User[] arr = <span class="keyword">new</span> User[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">1024</span> ; i ++)&#123;</span><br><span class="line">            arr[i] = <span class="keyword">new</span> User();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//由于堆中存储的是对象，当创建的对象过多时就会发生栈溢出，错误提示：java.lang.OutOfMemoryError: Java heap space</span></span><br></pre></td></tr></table></figure></p><h3 id="3-栈"><a href="#3-栈" class="headerlink" title="3.栈"></a>3.栈</h3><p>线程私有的，它的生命周期与线程相同，这块区域是为方法执行是准备的。每个方法执行时，都会创建一个栈帧（一种数据结构），专门用于用来存放方法中的局部变量（成员变量在堆区）<br>如果线程请求的栈深度大于JVM允许的栈深度，将抛出StackOverflowError异常。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wendao.student;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> age = <span class="number">18</span>;        <span class="comment">//age引用和18方法区   </span></span><br><span class="line">    <span class="keyword">private</span> String name = <span class="string">"张三"</span>;  <span class="comment">//name引用都是放在堆区，张三在常量池。    </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">1</span>;<span class="comment">//a 和 1 都存在 say的栈帧里，执行完就回收。        </span></span><br><span class="line">        Object b = <span class="keyword">new</span> Object();<span class="comment">//b的引用存在say的栈帧里，实例放在堆。</span></span><br><span class="line">        System.out.println();<span class="comment">//当代码执行到这里，栈空间会为这3个方法创建3个栈帧</span></span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">introduce</span><span class="params">()</span></span>&#123;</span><br><span class="line">        say();</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Student().introduce();</span><br><span class="line">    &#125;  </span><br><span class="line">         </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStack</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> i = <span class="number">1</span> ;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teststack</span><span class="params">()</span></span>&#123;</span><br><span class="line">        call();</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">        i ++ ;</span><br><span class="line">        call();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 由于递归不停的调用自身，方法调用一次就产生一个栈帧，等到内存不够分配，就会出现栈溢出，错误提示：java.lang.StackOverflowError</span></span><br></pre></td></tr></table></figure></p><h3 id="4-方法区中常量池"><a href="#4-方法区中常量池" class="headerlink" title="4.方法区中常量池"></a>4.方法区中常量池</h3><p><strong>常量池：</strong>分为两种形态，静态常量池和运行时常量池。<br><strong>静态常量池：</strong>编译期间产生的内存空间，有些人叫class常量池，class常量池不仅仅存放字符串和数字等字面量数据，还存放类、方法的元数据信息。<br><strong>运行时常量池：</strong>则是jvm虚拟机在完成类装载操作后，将class文件中的常量池载入到内存中，并保存在方法区中，我们常说的常量池，就是指方法区中的运行时常量池。<br><img src="/img/JVM/const.png" alt=""><br>相较于静态常量池，运行时常量池更具动态性，静态常量池是死的，基本不会变，但是运行时常量池可以在运行期间通过String类的intern()方法加入新成员。<br><strong>①案例一</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wendao.student;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    String s1 = <span class="string">"Hello"</span>;</span><br><span class="line">    String s2 = <span class="string">"Hello"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span>  <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(s1 == s2);  <span class="comment">// true</span></span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Student().print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>②案例二</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wendao.student;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String s1 = <span class="string">"Hello"</span>;</span><br><span class="line">        String s3 = <span class="string">"Hel"</span> + <span class="string">"lo"</span>;</span><br><span class="line">        System.out.println(s1 == s3); <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Student().print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>s3虽然是动态拼接出来的字符串，但是在编译期间，这种拼接会被优化，编译器直接帮你拼好，因此s3在class文件中被优化成String s3 = “Hello”;，所以s1 == s3成立。<br> <img src="/img/JVM/example1.png" alt=""><br>注：可以用jad反编译查看，默认环境变量中是没有jad命令的，需要下载jad.exe然后放到jdk的bin目录下，点击下载<br><strong>③案例三</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wendao.student;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String s1 = <span class="string">"Hello"</span>;</span><br><span class="line">        String s2 = <span class="string">"Hel"</span> +<span class="keyword">new</span> String(<span class="string">"lo"</span>);</span><br><span class="line">        System.out.println(s1 == s2); <span class="comment">// false</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Student().print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>s2虽然也是拼接出来的，但new String(“lo”)这部分不是已知字面量，是一个不可预料的部分，编译器不会优化，必须等到运行时才可以确定结果。<br><img src="/img/JVM/example3.png" alt=""><br><strong>④案例四</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wendao.student;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String s1 = <span class="string">"Hello"</span>;</span><br><span class="line">        String s2 = <span class="string">"Hel"</span>;</span><br><span class="line">        String s3 = <span class="string">"lo"</span>;</span><br><span class="line">        String s4 = s2+s3;</span><br><span class="line">        System.out.println(s1 == s4); <span class="comment">// false</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Student().print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>虽然s2、s3在赋值的时候使用的字符串字面量，但是拼接成s9的时候，s2、s3作为两个变量，都是不可预料的，编译器毕竟是编译器，不可能当解释器用，所以不做优化，等到运行时，s2、s3拼接成的新字符串，在堆中地址不确定，不可能与方法区常量池中的s1地址相同。<br>s2+s3这种相加，本质是返回新的StringBuilder对象引用，该引用指向堆区，这也是为什么两个字符串相加会产生新的字符串对象。<br><img src="/img/JVM/example4.png" alt=""><br><strong>⑤案例五</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wendao.student;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String s1 = <span class="string">"Hello"</span>;</span><br><span class="line">        String s5 = <span class="keyword">new</span> String(<span class="string">"Hello"</span>);</span><br><span class="line">        String s6 = s5.intern();</span><br><span class="line">        System.out.println(s1 == s6); <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Student().print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>归功于intern方法，s5的对象在堆中，内容为Hello ，intern方法会尝试将Hello字符串添加到常量池中，并返回其在常量池中的地址，因为常量池中已经有了Hello字符串，所以intern方法直接返回地址；而s1在编译期就已经指向常量池了，因此s1和s6指向同一地址，相等。<br>官方堆intern方法的解释：<br>当调用 intern 方法时，如果池已经包含一个等于此 String 对象的字符串（用 equals(Object) 方法确定），则返回池中的字符串。否则，将此 String 对象添加到池中，并返回此 String 对象的引用。<br><strong>⑥案例六</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wendao.student;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;  </span><br><span class="line">        String param = <span class="string">"abc"</span>;  </span><br><span class="line">        String param1 = <span class="string">"3abc"</span>;  </span><br><span class="line">        String param2 = param.length() + <span class="string">"abc"</span>;  </span><br><span class="line">        System.out.println(param1==param2);<span class="comment">//false</span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line">param1指向常量池，param2指向堆区，即使内容一致，但是引用不一致所以为<span class="keyword">false</span></span><br></pre></td></tr></table></figure></p><p><img src="/img/JVM/example6.png" alt=""><br><strong>⑦结论：</strong> </p><ol><li>必须要关注编译期的行为，才能更好的理解常量池。</li><li>运行时常量池中的常量，基本来源于各个class文件中的常量池。</li><li>程序运行时，除非手动向常量池中添加常量(比如调用intern方法)，否则jvm不会自动添加常量到常量池。</li></ol><h3 id="5-堆区的新生代、老年代"><a href="#5-堆区的新生代、老年代" class="headerlink" title="5.堆区的新生代、老年代"></a>5.堆区的新生代、老年代</h3><p><img src="/img/JVM/new_old.png" alt=""><br><strong>堆大小 = 新生代 + 老年代。默认下，新生代 ( Young ) = 1/3 的堆空间大小，老年代 ( Old ) = 2/3 的堆空间大小；JDK8中废弃了永久代，替换为Metaspace元空间(本地内存中)</strong><br><strong>①堆区分代的原因</strong><br>优化GC性能。如果没有分代，那么所有的对象都在一块，GC的时候要找到哪些对象没用就会对堆的所有区域进行扫描。<br>而很多对象都是朝生夕死的，如果分代的话，把新创建的对象放到某一地方，当GC的时候先把这块存“朝生夕死”对象的区域进行回收，这样就会腾出很大的空间出来。<br><strong>②新生代特点</strong><br><code>新生代 ( Young ) 被细分为 Eden 和 两个 Survivor 区域，这两个 Survivor 区域分别被命名为 from 和 to，以示区分。默认的，Edem : from Survivor  : to Survivor  = 8 : 1 : 1；JVM 每次只会使用 Eden 和其中的一块 Survivor 区域来为对象服务，所以无论什么时候，总是有一块 Survivor 区域是空闲着的。因此，新生代实际可用的内存空间为 9/10 ( 即90% )的新生代空间；新生代GC（minor gc）：指发生在新生代的垃圾回收动作，因为JAVA对象大多数都是朝生夕死（80%对象）的特性，所以minor gc非常频繁，使用复制算法快速的回收。</code><br><strong>③老年代特点</strong><br>存放”新生代”中生存了较长时间的对象，以及较大的对象。<br>内存空间比新生代要大。<br>垃圾回收的执行频率也会低很多。<br>老年代GC（major gc）———-指发生在老年代的垃圾回收动作，所采用是的标记–整理算法。<br>老年代几乎都是经过survivor熬过来的，它们是不会那么容易“死掉”，因此major gc不会像minor gc那样频繁。<br><strong>④分代/堆模型</strong><br>示例从一个object1来说明其在分代垃圾回收算法中的回收轨迹。<br>1.object1新建，出生于新生代的Eden区域<br><img src="/img/JVM/heap1.png" alt=""><br>2.第一次minor GC，object1 还存活，移动到Fromsuvivor空间，此时还在新生代。<br><img src="/img/JVM/heap2.png" alt=""><br>3.第二次minor GC，object1 仍然存活，此时会通过复制算法，将object1复制到ToSuv区域此时object1的年龄age+1。<br><img src="/img/JVM/heap3.png" alt=""><br>4.第n次minor GC，object1 仍然存活，如果object1年龄为15直接进入老年代。当然还有一种情况要考虑，当object1年龄不足15，也有可能进入老年代。</p><ul><li>如果survivor区内很多年龄不太大的对象怎么办呢，大家年龄都不足以进入老年代，但数量太多，survivor也吃不消啊。于是还有一条规则，就是survivor区内所有年龄相同的对象大小总和如果超过survivor区空间的一半，年龄大于等于该年龄的对象都直接进入老年代，不受参数MaxTenuringThreshold参数的限制了。<br><img src="/img/JVM/heap4.png" alt=""></li></ul><p>5.object1存活一段时间后，发现此时object1不可达GcRoots，而且此时老年代空间比率已经超过了阈值,触发了majorGC（也可以认为是fullGC，但具体需要垃圾收集器来联系），此时object1被回收了。fullGC会触发 stop the world。<br><strong>总结:</strong><br>在以上的新生代中，我们有提到对象的age，对象存活于survivor状态下，不会立即晋升为老年代对象，以避免给老生代造成过大的影响，它们必须要满足以下条件才可以晋升：</p><ol><li>minor gc 之后，存活于survivor 区域的对象的age会+1，当超过（默认）15的时候，转移到老年代。</li><li>动态对象，如果survivor空间中相同年龄所有的对象大小的总和大于survivor空间的一半，直接进入老年代。</li></ol><p><strong>⑤GC类型以及促发条件</strong></p><ul><li>(1)分类：</li></ul><p>针对HotSpot VM的实现，它里面的GC其实准确分类只有两大种：<br>Partial GC：并不收集整个GC堆的模式<br>Young GC：  只收集young gen的GC<br>Old GC：    只收集old gen的GC。只有CMS的concurrent collection是这个模式<br>Mixed GC：    收集整个young gen以及部分old gen的GC。只有G1有这个模式<br>Full GC：    收集整个堆，包括young gen、old gen、perm gen（如果存在的话）等所有部分的模式。</p><ul><li>(2)触发条件：</li></ul><p>Young GC：当young gen中的eden区分配满的时候，或者说剩余内存小于即将new出来的对象的体积的时候触发。<br>Old GC：    当old gen区域分配满的时候<br>Full GC：    当准备要触发一次young GC时，如果发现统计数据说之前young GC的平均晋升大小比目前old gen剩余的空间大，则不会触发young GC而是转为触发full GC。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;一、JVM概述&quot;&gt;&lt;a href=&quot;#一、JVM概述&quot; class=&quot;headerlink&quot; title=&quot;一、JVM概述&quot;&gt;&lt;/a&gt;一、JVM概述&lt;/h2&gt;&lt;p&gt;①所有的java代码都是在虚拟机中运行的。&lt;br&gt;②一次编译,到处运行。JVM可以和不同的操作系统交
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="JVM" scheme="http://yoursite.com/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>Httpclient的使用</title>
    <link href="http://yoursite.com/2018/08/16/Httpclient%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2018/08/16/Httpclient的使用/</id>
    <published>2018-08-16T15:44:25.000Z</published>
    <updated>2018-08-21T14:21:58.180Z</updated>
    
    <content type="html"><![CDATA[<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"><br>                    <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"><br>                        <div class="htmledit_views"><br><br><h2><a name="t0"></a>1.1&nbsp;<strong>Httpclient<span style="font-family:'黑体';">的使用</span></strong></h2><br><h3><a name="t1"></a>1.1.1&nbsp;<strong><span style="font-family:'宋体';">什么是</span>httpclient</strong></h3><br><p>HttpClient <span style="font-family:'宋体';">是 </span><span style="font-family:'Times New Roman';">Apache Jakarta Common</span><span style="font-family:'宋体';">下的子项目，用来提供高效的、最新的、功能丰富的支持<br></span><span style="font-family:'Times New Roman';">HTTP</span><span style="font-family:'宋体';">协议的客户端编程工具包，并且它支持<br></span><span style="font-family:'Times New Roman';">HTTP</span><span style="font-family:'宋体';">协议最新的版本和建议。</span><br><span style="font-family:'宋体';">下载地址：</span></p><br><p><a href="http://hc.apache.org/" rel="nofollow" target="_blank"><u><span>http://hc.apache.org/</span></u></a></p><br><p>&nbsp;</p><br><p>&nbsp;<a href="https://www.cnblogs.com/loveyakamoz/archive/2011/07/21/2112804.html" target="_blank" rel="noopener">https://www.cnblogs.com/loveyakamoz/archive/2011/07/21/2112804.html</a>&nbsp; 更加详细请观看这篇文档</p><br><h3><a name="t2"></a>1.1.2&nbsp;<strong><span style="font-family:'宋体';">添加依赖</span></strong></h3><br><p>&nbsp;</p><br><p><span style="font-family:'宋体';">需要把</span>httpclient<span style="font-family:'宋体';">的</span><span style="font-family:'Times New Roman';">jar</span><span style="font-family:'宋体';">包添加到工程中。只需要在工程中添加</span><span style="font-family:'Times New Roman';">httpclient</span><span style="font-family:'宋体';">的依赖。</span></p><br><p>&nbsp;</p><br><p>&nbsp;</p><br><h3><a name="t3"></a>1.1.3&nbsp;<strong><span style="font-family:'宋体';">使用方法</span></strong></h3><br><h4>1.1.3.1&nbsp;<strong><span style="font-family:'黑体';">使用</span>httpclient<span style="font-family:'黑体';">执行</span><span style="font-family:Arial;">get</span><span style="font-family:'黑体';">请求</span></strong></h4><br><table><tbody><tr><td valign="top"><br><p><span style="color:#646464;">@Test</span></p><br><p><strong><span>public</span></strong><span style="color:#000000;">&nbsp;</span><strong><span>void</span></strong><span style="color:#000000;">&nbsp;doGet()</span><strong><span>throws</span></strong><span style="color:#000000;">&nbsp;Exception<br> {</span></p><br><p><span style="color:#3f7f5f;">//创建一个</span><u><span style="color:#3f7f5f;">httpclient</span></u><span style="color:#3f7f5f;">对象</span></p><br><p><span style="color:#000000;">CloseableHttpClient </span><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">&nbsp;= HttpClients.</span><em><span style="color:#000000;">createDefault</span></em><span style="color:#000000;">();</span></p><br><p><span style="color:#3f7f5f;">//创建一个GET对象</span></p><br><p><span style="color:#000000;">HttpGet </span><span style="color:#6a3e3e;">get</span><span style="color:#000000;">&nbsp;=</span><strong><span>new</span></strong><span style="color:#000000;">&nbsp;HttpGet(</span><span>“<a href="http://www.sogou.com&quot;" target="_blank" rel="noopener">http://www.sogou.com&quot;</a></span><span style="color:#000000;">);</span></p><br><p><span style="color:#3f7f5f;">//执行请求</span></p><br><p><span style="color:#000000;">CloseableHttpResponse </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">&nbsp;=</span><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">.execute(</span><span style="color:#6a3e3e;">get</span><span style="color:#000000;">);</span></p><br><p><span style="color:#3f7f5f;">//取响应的结果</span></p><br><p><strong><span>int</span></strong><span style="color:#000000;">&nbsp;</span><span style="color:#6a3e3e;">statusCode</span><span style="color:#000000;">&nbsp;=</span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getStatusLine().getStatusCode();</span></p><br><p><span style="color:#000000;">System.</span><strong><em><span>out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">statusCode</span><span style="color:#000000;">);</span></p><br><p><span style="color:#000000;">HttpEntity </span><span style="color:#6a3e3e;">entity</span><span style="color:#000000;">&nbsp;=</span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getEntity();</span></p><br><p><span style="color:#000000;">String </span><span style="color:#6a3e3e;">string</span><span style="color:#000000;">&nbsp;= EntityUtils.</span><em><span style="color:#000000;">toString</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">entity</span><span style="color:#000000;">,</span><span>“utf-8”</span><span style="color:#000000;">);</span></p><br><p><span style="color:#000000;">System.</span><strong><em><span>out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">string</span><span style="color:#000000;">);</span></p><br><p><span style="color:#3f7f5f;">//关闭</span><u><span style="color:#3f7f5f;">httpclient</span></u></p><br><p><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.close();</span></p><br><p><u><span style="color:#000000;">httpClient</span></u><span style="color:#000000;">.close();</span></p><br><p><span style="color:#000000;">}</span></p><br></td><br></tr></tbody></table><p>&nbsp;</p><br><h4>1.1.3.2&nbsp;<strong><span style="font-family:'黑体';">执行</span>get<span style="font-family:'黑体';">请求带参数</span></strong></h4><br><table><tbody><tr><td valign="top"><br><p><span style="color:#646464;">@Test</span></p><br><p><strong><span>public</span></strong><span style="color:#000000;">&nbsp;</span><strong><span>void</span></strong><span style="color:#000000;">&nbsp;</span><span style="color:#000000;background:rgb(192,192,192);">doGetWithParam</span><span style="color:#000000;">()</span><strong><span>throws</span></strong><span style="color:#000000;">&nbsp;Exception{</span></p><br><p><span style="color:#3f7f5f;">//创建一个</span><u><span style="color:#3f7f5f;">httpclient</span></u><span style="color:#3f7f5f;">对象</span></p><br><p><span style="color:#000000;">CloseableHttpClient </span><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">&nbsp;= HttpClients.</span><em><span style="color:#000000;">createDefault</span></em><span style="color:#000000;">();</span></p><br><p><span style="color:#3f7f5f;">//创建一个</span><u><span style="color:#3f7f5f;">uri</span></u><span style="color:#3f7f5f;">对象</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#000000;">URIBuilder </span><br><span style="color:#6a3e3e;">uriBuilder</span><span style="color:#000000;">&nbsp;= </span><br><strong><span>new</span></strong><span style="color:#000000;">&nbsp;URIBuilder(</span><span>“<a href="http://www.sogou.com/web&quot;" target="_blank" rel="noopener">http://www.sogou.com/web&quot;</a></span><span style="color:#000000;">);</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#6a3e3e;">uriBuilder</span><span style="color:#000000;">.addParameter(</span><span>“query”</span><span style="color:#000000;">,</span><span>“花千骨”</span><span style="color:#000000;">);</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#000000;">HttpGet </span><br><span style="color:#6a3e3e;">get</span><span style="color:#000000;">&nbsp;= </span><strong><span>new</span></strong><span style="color:#000000;">&nbsp;HttpGet(</span><span style="color:#6a3e3e;">uriBuilder</span><span style="color:#000000;">.build());</span></p><br><p><span style="color:#3f7f5f;">//执行请求</span></p><br><p><span style="color:#000000;">CloseableHttpResponse </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">&nbsp;=</span><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">.execute(</span><span style="color:#6a3e3e;">get</span><span style="color:#000000;">);</span></p><br><p><span style="color:#3f7f5f;">//取响应的结果</span></p><br><p><strong><span>int</span></strong><span style="color:#000000;">&nbsp;</span><span style="color:#6a3e3e;">statusCode</span><span style="color:#000000;">&nbsp;=</span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getStatusLine().getStatusCode();</span></p><br><p><span style="color:#000000;">System.</span><strong><em><span>out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">statusCode</span><span style="color:#000000;">);</span></p><br><p><span style="color:#000000;">HttpEntity </span><span style="color:#6a3e3e;">entity</span><span style="color:#000000;">&nbsp;=</span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getEntity();</span></p><br><p><span style="color:#000000;">String </span><span style="color:#6a3e3e;">string</span><span style="color:#000000;">&nbsp;= EntityUtils.</span><em><span style="color:#000000;">toString</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">entity</span><span style="color:#000000;">,</span><span>“utf-8”</span><span style="color:#000000;">);</span></p><br><p><span style="color:#000000;">System.</span><strong><em><span>out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">string</span><span style="color:#000000;">);</span></p><br><p><span style="color:#3f7f5f;">//关闭</span><u><span style="color:#3f7f5f;">httpclient</span></u></p><br><p><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.close();</span></p><br><p><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">.close();</span></p><br><p><span style="color:#000000;">}</span></p><br></td><br></tr></tbody></table><p>&nbsp;</p><br><h4>1.1.3.3&nbsp;<strong><span style="font-family:'黑体';">使用</span>httpclient<span style="font-family:'黑体';">执行</span><span style="font-family:Arial;">post</span><span style="font-family:'黑体';">请求</span></strong></h4><br><table><tbody><tr><td valign="top"><br><p><span style="color:#646464;">@Test</span></p><br><p><strong><span>public</span></strong><span style="color:#000000;">&nbsp;</span><strong><span>void</span></strong><span style="color:#000000;">&nbsp;</span><span style="color:#000000;background:rgb(192,192,192);">doPost</span><span style="color:#000000;">()</span><strong><span>throws</span></strong><span style="color:#000000;">&nbsp;Exception<br> {</span></p><br><p><span style="color:#000000;">CloseableHttpClient </span><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">&nbsp;= HttpClients.</span><em><span style="color:#000000;">createDefault</span></em><span style="color:#000000;">();</span></p><br><p></p><br><p><span style="color:#3f7f5f;">//创建一个post对象</span></p><br><p><span style="color:#000000;">HttpPost </span><span style="color:#6a3e3e;">post</span><span style="color:#000000;">&nbsp;=</span><strong><span>new</span></strong><span style="color:#000000;">&nbsp;HttpPost(</span><span>“<a href="http://localhost:8082/httpclient/post.html&quot;" target="_blank" rel="noopener">http://localhost:8082/httpclient/post.html&quot;</a></span><span style="color:#000000;">);</span></p><br><p><span style="color:#3f7f5f;">//执行post请求</span></p><br><p><span style="color:#000000;">CloseableHttpResponse </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">&nbsp;=</span><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">.execute(</span><span style="color:#6a3e3e;">post</span><span style="color:#000000;">);</span></p><br><p><span style="color:#000000;">String </span><span style="color:#6a3e3e;">string</span><span style="color:#000000;">&nbsp;= EntityUtils.</span><em><span style="color:#000000;">toString</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getEntity());</span></p><br><p><span style="color:#000000;">System.</span><strong><em><span>out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">string</span><span style="color:#000000;">);</span></p><br><p><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.close();</span></p><br><p><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">.close();</span></p><br><p></p><br><p><span style="color:#000000;">}</span></p><br></td><br></tr></tbody></table><p>&nbsp;</p><br><h4>1.1.3.4&nbsp;<strong><span style="font-family:'黑体';">带参数</span>post<span style="font-family:'黑体';">请求</span></strong></h4><br><table><tbody><tr><td valign="top"><br><p>&nbsp;</p><br><p><span style="color:#646464;">@Test</span></p><br><p><strong><span>public</span></strong><span style="color:#000000;">&nbsp;</span><strong><span>void</span></strong><span style="color:#000000;">&nbsp;</span><span style="color:#000000;background:rgb(192,192,192);">doPostWithParam</span><span style="color:#000000;">()</span><strong><span>throws</span></strong><span style="color:#000000;">&nbsp;Exception{</span></p><br><p><span style="color:#000000;">CloseableHttpClient </span><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">&nbsp;= HttpClients.</span><em><span style="color:#000000;">createDefault</span></em><span style="color:#000000;">();</span></p><br><p></p><br><p><span style="color:#3f7f5f;">//创建一个post对象</span></p><br><p><span style="color:#000000;">HttpPost </span><span style="color:#6a3e3e;">post</span><span style="color:#000000;">&nbsp;=</span><strong><span>new</span></strong><span style="color:#000000;">&nbsp;HttpPost(</span><span>“<a href="http://localhost:8082/httpclient/post.html&quot;" target="_blank" rel="noopener">http://localhost:8082/httpclient/post.html&quot;</a></span><span style="color:#000000;">);</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#3f7f5f;">//创建一个Entity。模拟一个表单</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#000000;">List&lt;NameValuePair&gt;</span><span style="color:#6a3e3e;">kvList</span><span style="color:#000000;">&nbsp;=<br></span><strong><span>new</span></strong><span style="color:#000000;">&nbsp;ArrayList&lt;&gt;();</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#6a3e3e;">kvList</span><span style="color:#000000;">.add(</span><strong><span>new</span></strong><span style="color:#000000;">&nbsp;BasicNameValuePair(</span><span>“username”</span><span style="color:#000000;">,</span><span>“zhangsan”</span><span style="color:#000000;">));</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#6a3e3e;">kvList</span><span style="color:#000000;">.add(</span><strong><span>new</span></strong><span style="color:#000000;">&nbsp;BasicNameValuePair(</span><span>“password”</span><span style="color:#000000;">,</span><span>“123”</span><span style="color:#000000;">));</span></p><br><p style="background:rgb(255,255,153);"></p><br><p style="background:rgb(255,255,153);"><span style="color:#3f7f5f;">//包装成一个Entity对象</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#000000;">StringEntity </span><br><span style="color:#6a3e3e;">entity</span><span style="color:#000000;">&nbsp;= </span><strong><span>new</span></strong><span style="color:#000000;">&nbsp;UrlEncodedFormEntity(</span><span style="color:#6a3e3e;">kvList</span><span style="color:#000000;">,</span><span>“utf-8”</span><span style="color:#000000;">);</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#3f7f5f;">//设置请求的内容</span></p><br><p style="background:rgb(255,255,153);"><span style="color:#6a3e3e;">post</span><span style="color:#000000;">.setEntity(</span><span style="color:#6a3e3e;">entity</span><span style="color:#000000;">);</span></p><br><p></p><br><p><span style="color:#3f7f5f;">//执行post请求</span></p><br><p><span style="color:#000000;">CloseableHttpResponse </span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">&nbsp;=</span><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">.execute(</span><span style="color:#6a3e3e;">post</span><span style="color:#000000;">);</span></p><br><p><span style="color:#000000;">String </span><span style="color:#6a3e3e;">string</span><span style="color:#000000;">&nbsp;= EntityUtils.</span><em><span style="color:#000000;">toString</span></em><span style="color:#000000;">(</span><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.getEntity());</span></p><br><p><span style="color:#000000;">System.</span><strong><em><span>out</span></em></strong><span style="color:#000000;">.println(</span><span style="color:#6a3e3e;">string</span><span style="color:#000000;">);</span></p><br><p><span style="color:#6a3e3e;">response</span><span style="color:#000000;">.close();</span></p><br><p><span style="color:#6a3e3e;">httpClient</span><span style="color:#000000;">.close();</span></p><br><p><span style="color:#000000;">}</span></p><br></td><br></tr></tbody></table><br><p><a href="http://hc.apache.org/" rel="nofollow" target="_blank"><u><span><br></span></u></a></p><br><p><a href="http://hc.apache.org/" rel="nofollow" target="_blank"><u><span><br></span></u></a></p><br>            </div><br>                </div><p><a href="https://blog.csdn.net/dzy21/article/details/52039752" target="_blank" rel="noopener">HttpClient的使用和封装</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;article_content&quot; class=&quot;article_content clearfix csdn-tracking-statistics&quot; data-pid=&quot;blog&quot; data-mod=&quot;popu_307&quot; data-dsm=&quot;post&quot;&gt;&lt;br&gt;
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java工具类" scheme="http://yoursite.com/tags/java%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>HttpClient封装工具类</title>
    <link href="http://yoursite.com/2018/08/16/HttpClient%E5%B0%81%E8%A3%85%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    <id>http://yoursite.com/2018/08/16/HttpClient封装工具类/</id>
    <published>2018-08-16T15:41:08.000Z</published>
    <updated>2018-08-21T14:22:15.269Z</updated>
    
    <content type="html"><![CDATA[<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"><br>                    <div class="markdown_views"><br>                <h2 id="前言"><a name="t0"></a>前言</h2><br><br><p>在日常开发中，我们经常需要通过http协议去调用网络内容，虽然java自身提供了net相关工具包，但是其灵活性和功能总是不如人意，于是有人专门搞出一个httpclient类库，来方便进行Http操作。对于httpcore的源码研究，我们可能并没有达到这种层次，在日常开发中也只是需要的时候，在网上百度一下，然后进行调用就行。在项目中对于这个工具类库也许没有进行很好的封装。在哪里使用就写在哪些，很多地方用到，就在多个地方写。反正是复制粘贴，很方便，但是这样就会导致项目中代码冗余。所以这里简单的对httpcient的简单操作封装成一个工具类，统一放在项目的工具包中，在使用的时候直接从工具包中调用，不需要写冗余代码。</p><br><br><h2 id="httpclient操作实例"><a name="t1"></a>httpclient操作实例</h2><br><br><p>首先需要在注意的一点是，这是基于httpclient4.5版本的，我们在使用的时候需要引入具体对应jar。下面是具体代码示例</p><br><br><br><br><pre class="prettyprint" name="code"><code class="hljs java has-numbering"><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.security.KeyManagementException;<br><span class="hljs-keyword">import</span> java.security.KeyStoreException;<br><span class="hljs-keyword">import</span> java.security.NoSuchAlgorithmException;<br><span class="hljs-keyword">import</span> java.security.cert.CertificateException;<br><span class="hljs-keyword">import</span> java.security.cert.X509Certificate;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-keyword">import</span> javax.net.ssl.SSLContext;<br><br><span class="hljs-keyword">import</span> org.apache.commons.lang3.StringUtils;<br><span class="hljs-keyword">import</span> org.apache.http.HttpEntity;<br><span class="hljs-keyword">import</span> org.apache.http.NameValuePair;<br><span class="hljs-keyword">import</span> org.apache.http.ParseException;<br><span class="hljs-keyword">import</span> org.apache.http.client.config.RequestConfig;<br><span class="hljs-keyword">import</span> org.apache.http.client.entity.UrlEncodedFormEntity;<br><span class="hljs-keyword">import</span> org.apache.http.client.methods.CloseableHttpResponse;<br><span class="hljs-keyword">import</span> org.apache.http.client.methods.HttpGet;<br><span class="hljs-keyword">import</span> org.apache.http.client.methods.HttpPost;<br><span class="hljs-keyword">import</span> org.apache.http.conn.ssl.SSLConnectionSocketFactory;<br><span class="hljs-keyword">import</span> org.apache.http.impl.client.CloseableHttpClient;<br><span class="hljs-keyword">import</span> org.apache.http.impl.client.HttpClientBuilder;<br><span class="hljs-keyword">import</span> org.apache.http.impl.client.HttpClients;<br><span class="hljs-keyword">import</span> org.apache.http.message.BasicNameValuePair;<br><span class="hljs-keyword">import</span> org.apache.http.ssl.SSLContextBuilder;<br><span class="hljs-keyword">import</span> org.apache.http.ssl.TrustStrategy;<br><span class="hljs-keyword">import</span> org.apache.http.util.EntityUtils;<br><br><span class="hljs-javadoc">/<strong><br> <em> 基于 httpclient 4.5版本的 http工具类 </em><br> <em><span class="hljs-javadoctag"> @author</span> 爱琴孩 </em><br> */</strong></span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HttpClientTool</span> {</span><br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> CloseableHttpClient httpClient;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String CHARSET = <span class="hljs-string">“UTF-8”</span>;<br>    <span class="hljs-comment">// 采用静态代码块，初始化超时时间配置，再根据配置生成默认httpClient对象</span><br>    <span class="hljs-keyword">static</span> {<br>        RequestConfig config = RequestConfig.custom().setConnectTimeout(<span class="hljs-number">60000</span>).setSocketTimeout(<span class="hljs-number">15000</span>).build();<br>        httpClient = HttpClientBuilder.create().setDefaultRequestConfig(config).build();<br>    }<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">doGet</span>(String url, Map&lt;String, String&gt; params) {<br>        <span class="hljs-keyword">return</span> doGet(url, params, CHARSET);<br>    }<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">doGetSSL</span>(String url, Map&lt;String, String&gt; params) {<br>        <span class="hljs-keyword">return</span> doGetSSL(url, params, CHARSET);<br>    }<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">doPost</span>(String url, Map&lt;String, String&gt; params) <span class="hljs-keyword">throws</span> IOException {<br>        <span class="hljs-keyword">return</span> doPost(url, params, CHARSET);<br>    }<br><br>    <span class="hljs-javadoc">/<br>     <em> HTTP Get 获取内容     </em><span class="hljs-javadoctag"> @param</span> url 请求的url地址 ?之前的地址<br>     <em><span class="hljs-javadoctag"> @param</span> params 请求的参数     </em><span class="hljs-javadoctag"> @param</span> charset 编码格式<br>     <em><span class="hljs-javadoctag"> @return</span> 页面内容     </em>/</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">doGet</span>(String url, Map&lt;String, String&gt; params, String charset) {<br>        <span class="hljs-keyword">if</span> (StringUtils.isBlank(url)) {<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>        }<br>        <span class="hljs-keyword">try</span> {<br>            <span class="hljs-keyword">if</span> (params != <span class="hljs-keyword">null</span> &amp;&amp; !params.isEmpty()) {<br>                List&lt;NameValuePair&gt; pairs = <span class="hljs-keyword">new</span> ArrayList&lt;NameValuePair&gt;(params.size());<br>                <span class="hljs-keyword">for</span> (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {<br>                    String value = entry.getValue();<br>                    <span class="hljs-keyword">if</span> (value != <span class="hljs-keyword">null</span>) {<br>                        pairs.add(<span class="hljs-keyword">new</span> BasicNameValuePair(entry.getKey(), value));<br>                    }<br>                }<br>                <span class="hljs-comment">// 将请求参数和url进行拼接</span><br>                url += <span class="hljs-string">“?”</span> + EntityUtils.toString(<span class="hljs-keyword">new</span> UrlEncodedFormEntity(pairs, charset));<br>            }<br>            HttpGet httpGet = <span class="hljs-keyword">new</span> HttpGet(url);<br>            CloseableHttpResponse response = httpClient.execute(httpGet);<br>            <span class="hljs-keyword">int</span> statusCode = response.getStatusLine().getStatusCode();<br>            <span class="hljs-keyword">if</span> (statusCode != <span class="hljs-number">200</span>) {<br>                httpGet.abort();<br>                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">“HttpClient,error status code :”</span> + statusCode);<br>            }<br>            HttpEntity entity = response.getEntity();<br>            String result = <span class="hljs-keyword">null</span>;<br>            <span class="hljs-keyword">if</span> (entity != <span class="hljs-keyword">null</span>) {<br>                result = EntityUtils.toString(entity, <span class="hljs-string">“utf-8”</span>);<br>            }<br>            EntityUtils.consume(entity);<br>            response.close();<br>            <span class="hljs-keyword">return</span> result;<br>        } <span class="hljs-keyword">catch</span> (Exception e) {<br>            e.printStackTrace();<br>        }<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>    }<br><br>    <span class="hljs-javadoc">/<strong><br>     <em> HTTP Post 获取内容     </em><span class="hljs-javadoctag"> @param</span> url 请求的url地址 ?之前的地址<br>     <em><span class="hljs-javadoctag"> @param</span> params 请求的参数     </em><span class="hljs-javadoctag"> @param</span> charset 编码格式<br>     <em><span class="hljs-javadoctag"> @return</span> 页面内容     </em><span class="hljs-javadoctag"> @throws</span> IOException<br>     */</strong></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">doPost</span>(String url, Map&lt;String, String&gt; params, String charset)<br>            <span class="hljs-keyword">throws</span> IOException {<br>        <span class="hljs-keyword">if</span> (StringUtils.isBlank(url)) {<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>        }<br>        List&lt;NameValuePair&gt; pairs = <span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">if</span> (params != <span class="hljs-keyword">null</span> &amp;&amp; !params.isEmpty()) {<br>            pairs = <span class="hljs-keyword">new</span> ArrayList&lt;NameValuePair&gt;(params.size());<br>            <span class="hljs-keyword">for</span> (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {<br>                String value = entry.getValue();<br>                <span class="hljs-keyword">if</span> (value != <span class="hljs-keyword">null</span>) {<br>                    pairs.add(<span class="hljs-keyword">new</span> BasicNameValuePair(entry.getKey(), value));<br>                }<br>            }<br>        }<br>        HttpPost httpPost = <span class="hljs-keyword">new</span> HttpPost(url);<br>        <span class="hljs-keyword">if</span> (pairs != <span class="hljs-keyword">null</span> &amp;&amp; pairs.size() &gt; <span class="hljs-number">0</span>) {<br>            httpPost.setEntity(<span class="hljs-keyword">new</span> UrlEncodedFormEntity(pairs, CHARSET));<br>        }<br>        CloseableHttpResponse response = <span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">try</span> {<br>            response = httpClient.execute(httpPost);<br>            <span class="hljs-keyword">int</span> statusCode = response.getStatusLine().getStatusCode();<br>            <span class="hljs-keyword">if</span> (statusCode != <span class="hljs-number">200</span>) {<br>                httpPost.abort();<br>                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">“HttpClient,error status code :”</span> + statusCode);<br>            }<br>            HttpEntity entity = response.getEntity();<br>            String result = <span class="hljs-keyword">null</span>;<br>            <span class="hljs-keyword">if</span> (entity != <span class="hljs-keyword">null</span>) {<br>                result = EntityUtils.toString(entity, <span class="hljs-string">“utf-8”</span>);<br>            }<br>            EntityUtils.consume(entity);<br>            <span class="hljs-keyword">return</span> result;<br>        } <span class="hljs-keyword">catch</span> (ParseException e) {<br>            e.printStackTrace();<br>        } <span class="hljs-keyword">finally</span> {<br>            <span class="hljs-keyword">if</span> (response != <span class="hljs-keyword">null</span>)<br>                response.close();<br>        }<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>    }<br><br>    <span class="hljs-javadoc">/<br>     <em> HTTPS Get 获取内容     </em><span class="hljs-javadoctag"> @param</span> url 请求的url地址 ?之前的地址<br>     <em><span class="hljs-javadoctag"> @param</span> params 请求的参数     </em><span class="hljs-javadoctag"> @param</span> charset  编码格式<br>     <em><span class="hljs-javadoctag"> @return</span> 页面内容     </em>/</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">doGetSSL</span>(String url, Map&lt;String, String&gt; params, String charset) {<br>        <span class="hljs-keyword">if</span> (StringUtils.isBlank(url)) {<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>        }<br>        <span class="hljs-keyword">try</span> {<br>            <span class="hljs-keyword">if</span> (params != <span class="hljs-keyword">null</span> &amp;&amp; !params.isEmpty()) {<br>                List&lt;NameValuePair&gt; pairs = <span class="hljs-keyword">new</span> ArrayList&lt;NameValuePair&gt;(params.size());<br>                <span class="hljs-keyword">for</span> (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {<br>                    String value = entry.getValue();<br>                    <span class="hljs-keyword">if</span> (value != <span class="hljs-keyword">null</span>) {<br>                        pairs.add(<span class="hljs-keyword">new</span> BasicNameValuePair(entry.getKey(), value));<br>                    }<br>                }<br>                url += <span class="hljs-string">“?”</span> + EntityUtils.toString(<span class="hljs-keyword">new</span> UrlEncodedFormEntity(pairs, charset));<br>            }<br>            HttpGet httpGet = <span class="hljs-keyword">new</span> HttpGet(url);<br><br>            <span class="hljs-comment">// https  注意这里获取https内容，使用了忽略证书的方式，当然还有其他的方式来获取https内容</span><br>            CloseableHttpClient httpsClient = HttpClientTool.createSSLClientDefault();<br>            CloseableHttpResponse response = httpsClient.execute(httpGet);<br>            <span class="hljs-keyword">int</span> statusCode = response.getStatusLine().getStatusCode();<br>            <span class="hljs-keyword">if</span> (statusCode != <span class="hljs-number">200</span>) {<br>                httpGet.abort();<br>                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">“HttpClient,error status code :”</span> + statusCode);<br>            }<br>            HttpEntity entity = response.getEntity();<br>            String result = <span class="hljs-keyword">null</span>;<br>            <span class="hljs-keyword">if</span> (entity != <span class="hljs-keyword">null</span>) {<br>                result = EntityUtils.toString(entity, <span class="hljs-string">“utf-8”</span>);<br>            }<br>            EntityUtils.consume(entity);<br>            response.close();<br>            <span class="hljs-keyword">return</span> result;<br>        } <span class="hljs-keyword">catch</span> (Exception e) {<br>            e.printStackTrace();<br>        }<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>    }<br><br>    <span class="hljs-javadoc">/*<em>     </em> 这里创建了忽略整数验证的CloseableHttpClient对象<br>     <em><span class="hljs-javadoctag"> @return</span>     </em>/</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CloseableHttpClient <span class="hljs-title">createSSLClientDefault</span>() {<br>        <span class="hljs-keyword">try</span> {<br>            SSLContext sslContext = <span class="hljs-keyword">new</span> SSLContextBuilder().loadTrustMaterial(<span class="hljs-keyword">null</span>, <span class="hljs-keyword">new</span> TrustStrategy() {<br>                <span class="hljs-comment">// 信任所有</span><br>                <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isTrusted</span>(X509Certificate[] chain, String authType) <span class="hljs-keyword">throws</span> CertificateException {<br>                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>                }<br>            }).build();<br>            SSLConnectionSocketFactory sslsf = <span class="hljs-keyword">new</span> SSLConnectionSocketFactory(sslContext);<br>            <span class="hljs-keyword">return</span> HttpClients.custom().setSSLSocketFactory(sslsf).build();<br>        } <span class="hljs-keyword">catch</span> (KeyManagementException e) {<br>            e.printStackTrace();<br>        } <span class="hljs-keyword">catch</span> (NoSuchAlgorithmException e) {<br>            e.printStackTrace();<br>        } <span class="hljs-keyword">catch</span> (KeyStoreException e) {<br>            e.printStackTrace();<br>        }<br>        <span class="hljs-keyword">return</span> HttpClients.createDefault();<br>    }<br>}</code><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li><li style="color: rgb(153, 153, 153);">68</li><li style="color: rgb(153, 153, 153);">69</li><li style="color: rgb(153, 153, 153);">70</li><li style="color: rgb(153, 153, 153);">71</li><li style="color: rgb(153, 153, 153);">72</li><li style="color: rgb(153, 153, 153);">73</li><li style="color: rgb(153, 153, 153);">74</li><li style="color: rgb(153, 153, 153);">75</li><li style="color: rgb(153, 153, 153);">76</li><li style="color: rgb(153, 153, 153);">77</li><li style="color: rgb(153, 153, 153);">78</li><li style="color: rgb(153, 153, 153);">79</li><li style="color: rgb(153, 153, 153);">80</li><li style="color: rgb(153, 153, 153);">81</li><li style="color: rgb(153, 153, 153);">82</li><li style="color: rgb(153, 153, 153);">83</li><li style="color: rgb(153, 153, 153);">84</li><li style="color: rgb(153, 153, 153);">85</li><li style="color: rgb(153, 153, 153);">86</li><li style="color: rgb(153, 153, 153);">87</li><li style="color: rgb(153, 153, 153);">88</li><li style="color: rgb(153, 153, 153);">89</li><li style="color: rgb(153, 153, 153);">90</li><li style="color: rgb(153, 153, 153);">91</li><li style="color: rgb(153, 153, 153);">92</li><li style="color: rgb(153, 153, 153);">93</li><li style="color: rgb(153, 153, 153);">94</li><li style="color: rgb(153, 153, 153);">95</li><li style="color: rgb(153, 153, 153);">96</li><li style="color: rgb(153, 153, 153);">97</li><li style="color: rgb(153, 153, 153);">98</li><li style="color: rgb(153, 153, 153);">99</li><li style="color: rgb(153, 153, 153);">100</li><li style="color: rgb(153, 153, 153);">101</li><li style="color: rgb(153, 153, 153);">102</li><li style="color: rgb(153, 153, 153);">103</li><li style="color: rgb(153, 153, 153);">104</li><li style="color: rgb(153, 153, 153);">105</li><li style="color: rgb(153, 153, 153);">106</li><li style="color: rgb(153, 153, 153);">107</li><li style="color: rgb(153, 153, 153);">108</li><li style="color: rgb(153, 153, 153);">109</li><li style="color: rgb(153, 153, 153);">110</li><li style="color: rgb(153, 153, 153);">111</li><li style="color: rgb(153, 153, 153);">112</li><li style="color: rgb(153, 153, 153);">113</li><li style="color: rgb(153, 153, 153);">114</li><li style="color: rgb(153, 153, 153);">115</li><li style="color: rgb(153, 153, 153);">116</li><li style="color: rgb(153, 153, 153);">117</li><li style="color: rgb(153, 153, 153);">118</li><li style="color: rgb(153, 153, 153);">119</li><li style="color: rgb(153, 153, 153);">120</li><li style="color: rgb(153, 153, 153);">121</li><li style="color: rgb(153, 153, 153);">122</li><li style="color: rgb(153, 153, 153);">123</li><li style="color: rgb(153, 153, 153);">124</li><li style="color: rgb(153, 153, 153);">125</li><li style="color: rgb(153, 153, 153);">126</li><li style="color: rgb(153, 153, 153);">127</li><li style="color: rgb(153, 153, 153);">128</li><li style="color: rgb(153, 153, 153);">129</li><li style="color: rgb(153, 153, 153);">130</li><li style="color: rgb(153, 153, 153);">131</li><li style="color: rgb(153, 153, 153);">132</li><li style="color: rgb(153, 153, 153);">133</li><li style="color: rgb(153, 153, 153);">134</li><li style="color: rgb(153, 153, 153);">135</li><li style="color: rgb(153, 153, 153);">136</li><li style="color: rgb(153, 153, 153);">137</li><li style="color: rgb(153, 153, 153);">138</li><li style="color: rgb(153, 153, 153);">139</li><li style="color: rgb(153, 153, 153);">140</li><li style="color: rgb(153, 153, 153);">141</li><li style="color: rgb(153, 153, 153);">142</li><li style="color: rgb(153, 153, 153);">143</li><li style="color: rgb(153, 153, 153);">144</li><li style="color: rgb(153, 153, 153);">145</li><li style="color: rgb(153, 153, 153);">146</li><li style="color: rgb(153, 153, 153);">147</li><li style="color: rgb(153, 153, 153);">148</li><li style="color: rgb(153, 153, 153);">149</li><li style="color: rgb(153, 153, 153);">150</li><li style="color: rgb(153, 153, 153);">151</li><li style="color: rgb(153, 153, 153);">152</li><li style="color: rgb(153, 153, 153);">153</li><li style="color: rgb(153, 153, 153);">154</li><li style="color: rgb(153, 153, 153);">155</li><li style="color: rgb(153, 153, 153);">156</li><li style="color: rgb(153, 153, 153);">157</li><li style="color: rgb(153, 153, 153);">158</li><li style="color: rgb(153, 153, 153);">159</li><li style="color: rgb(153, 153, 153);">160</li><li style="color: rgb(153, 153, 153);">161</li><li style="color: rgb(153, 153, 153);">162</li><li style="color: rgb(153, 153, 153);">163</li><li style="color: rgb(153, 153, 153);">164</li><li style="color: rgb(153, 153, 153);">165</li><li style="color: rgb(153, 153, 153);">166</li><li style="color: rgb(153, 153, 153);">167</li><li style="color: rgb(153, 153, 153);">168</li><li style="color: rgb(153, 153, 153);">169</li><li style="color: rgb(153, 153, 153);">170</li><li style="color: rgb(153, 153, 153);">171</li><li style="color: rgb(153, 153, 153);">172</li><li style="color: rgb(153, 153, 153);">173</li><li style="color: rgb(153, 153, 153);">174</li><li style="color: rgb(153, 153, 153);">175</li><li style="color: rgb(153, 153, 153);">176</li><li style="color: rgb(153, 153, 153);">177</li><li style="color: rgb(153, 153, 153);">178</li><li style="color: rgb(153, 153, 153);">179</li><li style="color: rgb(153, 153, 153);">180</li><li style="color: rgb(153, 153, 153);">181</li><li style="color: rgb(153, 153, 153);">182</li><li style="color: rgb(153, 153, 153);">183</li><li style="color: rgb(153, 153, 153);">184</li><li style="color: rgb(153, 153, 153);">185</li><li style="color: rgb(153, 153, 153);">186</li><li style="color: rgb(153, 153, 153);">187</li><li style="color: rgb(153, 153, 153);">188</li><li style="color: rgb(153, 153, 153);">189</li><li style="color: rgb(153, 153, 153);">190</li><li style="color: rgb(153, 153, 153);">191</li><li style="color: rgb(153, 153, 153);">192</li><li style="color: rgb(153, 153, 153);">193</li><li style="color: rgb(153, 153, 153);">194</li><li style="color: rgb(153, 153, 153);">195</li><li style="color: rgb(153, 153, 153);">196</li><li style="color: rgb(153, 153, 153);">197</li><li style="color: rgb(153, 153, 153);">198</li><li style="color: rgb(153, 153, 153);">199</li><li style="color: rgb(153, 153, 153);">200</li><li style="color: rgb(153, 153, 153);">201</li><li style="color: rgb(153, 153, 153);">202</li><li style="color: rgb(153, 153, 153);">203</li><li style="color: rgb(153, 153, 153);">204</li><li style="color: rgb(153, 153, 153);">205</li><li style="color: rgb(153, 153, 153);">206</li><li style="color: rgb(153, 153, 153);">207</li><li style="color: rgb(153, 153, 153);">208</li><li style="color: rgb(153, 153, 153);">209</li><li style="color: rgb(153, 153, 153);">210</li><li style="color: rgb(153, 153, 153);">211</li><li style="color: rgb(153, 153, 153);">212</li><li style="color: rgb(153, 153, 153);">213</li><li style="color: rgb(153, 153, 153);">214</li><li style="color: rgb(153, 153, 153);">215</li><li style="color: rgb(153, 153, 153);">216</li><li style="color: rgb(153, 153, 153);">217</li><li style="color: rgb(153, 153, 153);">218</li><li style="color: rgb(153, 153, 153);">219</li><li style="color: rgb(153, 153, 153);">220</li><li style="color: rgb(153, 153, 153);">221</li><li style="color: rgb(153, 153, 153);">222</li><li style="color: rgb(153, 153, 153);">223</li></ul></pre><br><br><h2 id="总结"><a name="t2"></a>总结</h2><br><br><p>上面就是对于httpclient的简单工具类，对于httpclient，还有很多知识点需要仔细研究，后面再和大家一起来总结学习！</p>            </div><br>            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/markdown_views-ea0013b516.css"><br>                </div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;article_content&quot; class=&quot;article_content clearfix csdn-tracking-statistics&quot; data-pid=&quot;blog&quot; data-mod=&quot;popu_307&quot; data-dsm=&quot;post&quot;&gt;&lt;br&gt;
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java工具类" scheme="http://yoursite.com/tags/java%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>HttpClient使用入门</title>
    <link href="http://yoursite.com/2018/08/16/HttpClient%E4%BD%BF%E7%94%A8%E5%85%A5%E9%97%A8/"/>
    <id>http://yoursite.com/2018/08/16/HttpClient使用入门/</id>
    <published>2018-08-16T15:31:17.000Z</published>
    <updated>2018-08-21T14:22:30.987Z</updated>
    
    <content type="html"><![CDATA[<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"><br>                    <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"><br>                        <div class="htmledit_views"><br>                <div class="blog_title" style="margin-top:20px;text-align:center;"><h3 style="font-family:inherit;font-weight:500;line-height:1.1;color:inherit;margin-top:20px;margin-bottom:10px;font-size:24px;"><a name="t0"></a><span style="font-weight:700;">HttpClient简介</span></h3></div><div class="blog_content" style="margin-top:20px;padding-bottom:30px;"><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);">HttpClient 是 Apache Jakarta Common 下的子项目，可以用来提供高效的、最新的、功能丰富的支持 HTTP 协议的客户端编程工具包，并且它支持 HTTP 协议最新的版本和建议。</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);">官方站点：<a href="http://hc.apache.org/" rel="nofollow" title="http://hc.apache.org/" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">http://hc.apache.org/</a></span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">最新版本4.5&nbsp;<a href="http://hc.apache.org/httpcomponents-client-4.5.x/" rel="nofollow" title="http://hc.apache.org/httpcomponents-client-4.5.x/" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">http://hc.apache.org/httpcomponents-client-4.5.x/</a></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">官方文档：&nbsp;<a href="http://hc.apache.org/httpcomponents-client-4.5.x/tutorial/html/index.html" rel="nofollow" title="http://hc.apache.org/httpcomponents-client-4.5.x/tutorial/html/index.html" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">http://hc.apache.org/httpcomponents-client-4.5.x/tutorial/html/index.html</a></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">maven地址：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;color:rgb(51,51,51);border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:785.6px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;dependency&gt;</code></div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;</code></div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;artifactId&gt;httpclient&lt;/artifactId&gt;</code></div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;version&gt;</code><code class="java value" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,153,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">4.5</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">.</code><code class="java value" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,153,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">2</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;/version&gt;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;/dependency&gt;</code></div></div></td></tr></tbody></table><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);">HTTP 协议可能是现在 Internet 上使用得最多、最重要的协议了，越来越多的 Java 应用程序需要直接通过 HTTP 协议来访问网络资源。</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);">虽然在 JDK 的 java net包中已经提供了访问 HTTP 协议的基本功能，但是对于大部分应用程序来说，JDK 库本身提供的功能还不够丰富和灵活。</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);">HttpClient 是 Apache Jakarta Common 下的子项目，用来提供高效的、最新的、功能丰富的支持 HTTP 协议的客户端编程工具包，并且它支持&nbsp;</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);">HTTP 协议最新的版本和建议。</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);">HttpClient 已经应用在很多的项目中，比如 Apache Jakarta 上很著名的另外两个开源项目 Cactus 和&nbsp;</span><a href="http://baike.baidu.com/view/3724597.htm" rel="nofollow" style="background-color:rgb(255,255,255);color:rgb(19,110,194);font-family:arial, '宋体', sans-serif;text-indent:28px;" target="_blank">HTMLUnit</a><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);">&nbsp;都使用了 HttpClient。</span></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);"><strong><span style="color:#ff0000;">我们搞爬虫的，主要是用HttpClient模拟浏览器请求第三方站点url，然后响应，获取网页数据，然后用Jsoup来提取我们需要的信息；</span></strong><br></span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);"><br></span></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"></p><div class="blog_title" style="color:rgb(51,51,51);margin-top:20px;text-align:center;"><h3 style="font-family:inherit;font-weight:500;line-height:1.1;color:inherit;margin-top:20px;margin-bottom:10px;font-size:24px;"><a name="t1"></a><span style="font-weight:700;">HttpClient HelloWorld实现</span></h3></div><div class="blog_content" style="margin-top:20px;padding-bottom:30px;"><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">首先建一个Maven项目，然后添加httpClient依赖，版本是4.5</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="color:rgb(51,51,51);border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:785.6px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;dependency&gt;</code></div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;</code></div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;artifactId&gt;httpclient&lt;/artifactId&gt;</code></div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;version&gt;</code><code class="java value" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,153,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">4.5</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">.</code><code class="java value" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,153,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">2</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;/version&gt;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&lt;/dependency&gt;</code></div></div></td></tr></tbody></table><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="color:rgb(51,51,51);border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">6</div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">7</div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">8</div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">9</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">10</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">11</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">12</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">13</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">14</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">15</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">16</div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">17</div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">18</div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">19</div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">20</div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">21</div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">22</div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">23</div><div class="line number24 index23 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">24</div><div class="line number25 index24 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">25</div><div class="line number26 index25 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">26</div><div class="line number27 index26 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">27</div><div class="line number28 index27 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">28</div><div class="line number29 index28 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">29</div><div class="line number30 index29 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">30</div><div class="line number31 index30 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">31</div><div class="line number32 index31 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">32</div><div class="line number33 index32 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">33</div><div class="line number34 index33 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">34</div><div class="line number35 index34 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">35</div><div class="line number36 index35 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">36</div><div class="line number37 index36 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">37</div><div class="line number38 index37 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">38</div><div class="line number39 index38 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">39</div><div class="line number40 index39 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">40</div><div class="line number41 index40 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">41</div><div class="line number42 index41 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">42</div><div class="line number43 index42 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">43</div><div class="line number44 index43 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">44</div><div class="line number45 index44 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">45</div><div class="line number46 index45 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">46</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:778.4px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">package</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">com.open1111.httpclient;</code></div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">java.io.IOException;</code></div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpEntity;</code></div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.ParseException;</code></div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.ClientProtocolException;</code></div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.CloseableHttpResponse;</code></div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.HttpGet;</code></div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.HttpClients;</code></div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.util.EntityUtils;</code></div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">class</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HelloWorld&nbsp;{</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">static</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">void</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">main(String[]&nbsp;args)&nbsp;{</code></div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpClient&nbsp;httpClient=HttpClients.createDefault();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;创建httpClient实例</code></div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet&nbsp;httpget&nbsp;=&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“<a href="http://www.open1111.com/&quot;" target="_blank" rel="noopener">http://www.open1111.com/&quot;</a></code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);&nbsp;//&nbsp;创建httpget实例</code></div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpResponse&nbsp;response=</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">null</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">;</code></div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">try</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">{</code></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response&nbsp;=&nbsp;httpClient.execute(httpget);</code></div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">catch</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">(ClientProtocolException&nbsp;e)&nbsp;{&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;http协议异常</code></div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;TODO&nbsp;Auto-generated&nbsp;catch&nbsp;block</code></div><div class="line number24 index23 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">e.printStackTrace();</code></div><div class="line number25 index24 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">catch</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">(IOException&nbsp;e)&nbsp;{&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;io异常</code></div><div class="line number26 index25 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;TODO&nbsp;Auto-generated&nbsp;catch&nbsp;block</code></div><div class="line number27 index26 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">e.printStackTrace();</code></div><div class="line number28 index27 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;执行get请求</code></div><div class="line number29 index28 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpEntity&nbsp;entity=response.getEntity();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取返回实体</code></div><div class="line number30 index29 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">try</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">{</code></div><div class="line number31 index30 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“网页内容：”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+EntityUtils.toString(entity,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“utf-8”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">));</code></div><div class="line number32 index31 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">catch</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">(ParseException&nbsp;e)&nbsp;{&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;解析异常</code></div><div class="line number33 index32 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;TODO&nbsp;Auto-generated&nbsp;catch&nbsp;block</code></div><div class="line number34 index33 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">e.printStackTrace();</code></div><div class="line number35 index34 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">catch</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">(IOException&nbsp;e)&nbsp;{&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;io异常</code></div><div class="line number36 index35 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;TODO&nbsp;Auto-generated&nbsp;catch&nbsp;block</code></div><div class="line number37 index36 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">e.printStackTrace();</code></div><div class="line number38 index37 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;指定编码打印网页内容</code></div><div class="line number39 index38 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">try</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">{</code></div><div class="line number40 index39 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response.close();</code></div><div class="line number41 index40 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">catch</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;io异常</code></div><div class="line number42 index41 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;TODO&nbsp;Auto-generated&nbsp;catch&nbsp;block</code></div><div class="line number43 index42 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">e.printStackTrace();</code></div><div class="line number44 index43 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;关闭流和释放系统资源</code></div><div class="line number45 index44 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div class="line number46 index45 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div></div></td></tr></tbody></table><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">运行输出：<br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><img src="https://img-blog.csdn.net/20180326225425766?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NpbmF0XzMyNzU5ODMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">这里得到了网站首页源码，当然要获得具体数据的话，要用到Jsoup</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">假如你对这些异常都熟悉 我们可以简化下，异常抛出，这样代码可读性好点。</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="color:rgb(51,51,51);border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">6</div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">7</div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">8</div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">9</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">10</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">11</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">12</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">13</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">14</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">15</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">16</div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">17</div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">18</div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">19</div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">20</div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">21</div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">22</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:778.4px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:rgb(255,120,0);border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code><span>&nbsp;</span><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:#000000;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpEntity;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.CloseableHttpResponse;</code></div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.HttpGet;</code></div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.HttpClients;</code></div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.util.EntityUtils;</code></div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">class</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HelloWorld2&nbsp;{</code></div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">static</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">void</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">main(String[]&nbsp;args)&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">throws</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Exception{</code></div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpClient&nbsp;httpclient&nbsp;=&nbsp;HttpClients.createDefault();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;创建httpclient实例</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet&nbsp;httpget&nbsp;=&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“<a href="http://www.open1111.com/&quot;" target="_blank" rel="noopener">http://www.open1111.com/&quot;</a></code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">); &nbsp; &nbsp;//&nbsp;创建httpget实例</code></div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpResponse&nbsp;response&nbsp;=&nbsp;httpclient.execute(httpget);&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;执行get请求</code></div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpEntity&nbsp;entity=response.getEntity();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取返回实体</code></div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“网页内容：”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+EntityUtils.toString(entity,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“utf-8”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">));&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;指定编码打印网页内容</code></div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;关闭流和释放系统资源</code></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div></div></td></tr></tbody></table><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">但是实际开发的话，我们对于每一种异常的抛出，catch里都需要做一些业务上的操作，所以以后用的话，还是第一种，</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">假如爬虫任务很简单，容易爬取，并且量小，那就第二种。还是要根据具体情况来。</p><div><div class="blog_title" style="margin-top:20px;text-align:center;"><h3 style="color:inherit;font-family:inherit;font-weight:500;line-height:1.1;margin-top:20px;margin-bottom:10px;font-size:24px;"><span style="font-weight:700;"><br></span></h3><h3 style="font-family:inherit;font-weight:500;line-height:1.1;margin-top:20px;margin-bottom:10px;font-size:24px;"><a name="t3"></a><span style="font-weight:700;"><span style="color:#330000;">HttpClient设置请求头消息</span><span style="color:#ff0000;">User-Agent</span><span style="color:rgba(0,0,0,0);">模拟浏览器</span></span></h3></div><div class="blog_content" style="margin-top:20px;padding-bottom:30px;"><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HttpClient设置请求头消息User-Agent模拟浏览器</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">比如我们请求&nbsp;<a href="http://www.tuicool.com/" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">www.tuicool.com</a></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">用前面的代码：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="color:rgb(51,51,51);border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">6</div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">7</div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">8</div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">9</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">10</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">11</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">12</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">13</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">14</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">15</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">16</div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">17</div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">18</div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">19</div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">20</div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">21</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:778.4px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:rgb(255,120,0);border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code><span>&nbsp;</span><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:#000000;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpEntity;</code></div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.CloseableHttpResponse;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.HttpGet;</code></div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.HttpClients;</code></div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.util.EntityUtils;</code></div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">class</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Demo01&nbsp;{</code></div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">static</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">void</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">main(String[]&nbsp;args)&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">throws</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Exception{</code></div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpClient&nbsp;httpClient=HttpClients.createDefault();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;创建httpClient实例</code></div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet&nbsp;httpGet=</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“<a href="http://www.tuicool.com/&quot;" target="_blank" rel="noopener">http://www.tuicool.com/&quot;</a></code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">); &nbsp; &nbsp; //&nbsp;创建httpget实例</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpResponse&nbsp;response=httpClient.execute(httpGet);&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;执行http&nbsp;get请求</code></div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpEntity&nbsp;entity=response.getEntity();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取返回实体</code></div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“网页内容：”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+EntityUtils.toString(entity,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“utf-8”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">));&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取网页内容</code></div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;response关闭</code></div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpClient.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;httpClient关闭</code></div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div></div></td></tr></tbody></table><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">返回内容：<br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">网页内容：&lt;!DOCTYPE html&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">&lt;html&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">&nbsp; &nbsp; &lt;head&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;meta http-equiv=”Content-Type” content=”text/html; charset=utf-8”&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">&nbsp; &nbsp; &lt;/head&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">&nbsp; &nbsp; &lt;body&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">&nbsp; &nbsp; &nbsp; &nbsp; &lt;p&gt;系统检测亲不是真人行为，因系统资源限制，我们只能拒绝你的请求。如果你有疑问，可以通过微博 <a href="http://weibo.com/tuicool2012/" target="_blank" rel="noopener">http://weibo.com/tuicool2012/</a> 联系我们。&lt;/p&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">&nbsp; &nbsp; &lt;/body&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">&lt;/html&gt;</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">我们模拟下浏览器 设置下User-Agent头消息：</p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><strong><span style="color:#ff0000;"><span style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">// 设置请求头消息User-Agent</span><br></span></strong></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><strong><span style="color:#ff0000;">httpGet.setHeader(“User-Agent”, “Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:50.0) Gecko/20100101 Firefox/50.0”);&nbsp;</span></strong></p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="color:rgb(51,51,51);border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">6</div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">7</div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">8</div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">9</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">10</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">11</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">12</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">13</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">14</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">15</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">16</div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">17</div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">18</div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">19</div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">20</div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">21</div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">22</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:778.4px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:rgb(255,120,0);border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code><span>&nbsp;</span><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:#000000;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpEntity;</code></div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.CloseableHttpResponse;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.HttpGet;</code></div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.HttpClients;</code></div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.util.EntityUtils;</code></div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">class</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Demo01&nbsp;{</code></div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">static</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">void</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">main(String[]&nbsp;args)&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">throws</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Exception{</code></div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpClient&nbsp;httpClient=HttpClients.createDefault();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;创建httpClient实例</code></div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet&nbsp;httpGet=</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“<a href="http://www.tuicool.com/&quot;" target="_blank" rel="noopener">http://www.tuicool.com/&quot;</a></code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">); &nbsp; &nbsp; //&nbsp;创建httpget实例</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpGet.setHeader( &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,130,0);font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;text-align:left;background-color:rgb(245,245,245);">//&nbsp;设置请求头消息User-Agent</span></code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;”User-Agent”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">,&nbsp;</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;”Mozilla/5.0&nbsp;(Windows&nbsp;NT&nbsp;6.1;&nbsp;Win64;&nbsp;x64;&nbsp;rv:50.0)&nbsp;Gecko/20100101&nbsp;Firefox/50.0”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);&nbsp;</code></div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpResponse&nbsp;response=httpClient.execute(httpGet);&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;执行http&nbsp;get请求</code></div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpEntity&nbsp;entity=response.getEntity();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取返回实体</code></div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“网页内容：”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+EntityUtils.toString(entity,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“utf-8”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">));&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取网页内容</code></div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;response关闭</code></div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpClient.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;httpClient关闭</code></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div></div></td></tr></tbody></table><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">运行 ：<br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><img src="https://img-blog.csdn.net/20180326225926127?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NpbmF0XzMyNzU5ODMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">当然通过火狐firebug，我们还可以看到其他请求头消息：</p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">都是可以通过setHeader方法 设置key value；来得到模拟浏览器请求；</span><br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><img src="https://img-blog.csdn.net/20180326225956888?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NpbmF0XzMyNzU5ODMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p style="color:rgb(51,51,51);margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"></p><div class="blog_title" style="margin-top:20px;text-align:center;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><h3 style="font-family:inherit;font-weight:500;line-height:1.1;margin-top:20px;margin-bottom:10px;font-size:24px;"><a name="t4"></a><span style="font-weight:700;"><span style="color:#330000;">HttpClient获取响应内容类型</span><span style="color:#ff0000;">Content-Type</span></span></h3></div><div class="blog_content" style="margin-top:20px;padding-bottom:30px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><p style="color:rgb(51,51,51);margin-bottom:10px;">HttpClient获取响应内容类型Content-Type</p><p style="color:rgb(51,51,51);margin-bottom:10px;">响应的网页内容都有类型也就是Content-Type</p><p style="color:rgb(51,51,51);margin-bottom:10px;">通过火狐firebug，我们看响应头信息：<br></p><p style="color:rgb(51,51,51);margin-bottom:10px;"><img src="https://img-blog.csdn.net/20180326230148721?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NpbmF0XzMyNzU5ODMx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p><p style="color:rgb(51,51,51);margin-bottom:10px;">当然我们可以通过HttpClient接口来获取；</p><p style="margin-bottom:10px;"><strong><span style="color:#ff0000;">HttpEntity的getContentType().getValue() </span></strong><span style="color:#333333;">就能获取到响应类型； &nbsp;</span></p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="color:rgb(51,51,51);border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">6</div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">7</div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">8</div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">9</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">10</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">11</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">12</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">13</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">14</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">15</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">16</div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">17</div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">18</div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">19</div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">20</div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">21</div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">22</div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">23</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:778.4px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:rgb(255,120,0);border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code><span>&nbsp;</span><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:#000000;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpEntity;</code></div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.CloseableHttpResponse;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.HttpGet;</code></div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.HttpClients;</code></div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.util.EntityUtils;</code></div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">class</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Demo2&nbsp;{</code></div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">static</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">void</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">main(String[]&nbsp;args)&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">throws</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Exception{</code></div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpClient&nbsp;httpClient=HttpClients.createDefault();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;创建httpClient实例</code></div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet&nbsp;httpGet=</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“<a href="http://www.java1234.com&quot;" target="_blank" rel="noopener">http://www.java1234.com&quot;</a></code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">); &nbsp; &nbsp; //&nbsp;创建httpget实例</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpGet.setHeader( &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,130,0);font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;text-align:left;background-color:rgb(245,245,245);">//&nbsp;设置请求头消息User-Agent</span></code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;”User-Agent”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">,&nbsp;</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;”Mozilla/5.0&nbsp;(Windows&nbsp;NT&nbsp;6.1;&nbsp;Win64;&nbsp;x64;&nbsp;rv:50.0)&nbsp;Gecko/20100101&nbsp;Firefox/50.0”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);&nbsp;</code></div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpResponse&nbsp;response=httpClient.execute(httpGet);&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;执行http&nbsp;get请求</code></div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpEntity&nbsp;entity=response.getEntity(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取返回实体</code></div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“Content-Type:”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+entity.getContentType().getValue());</code></div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//System.out.println(“网页内容：”+EntityUtils.toString(entity,&nbsp;”utf-8”));&nbsp;//&nbsp;获取网页内容</code></div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;response关闭</code></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpClient.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;httpClient关闭</code></div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div></div></td></tr></tbody></table><p style="color:rgb(51,51,51);margin-bottom:10px;">运行输出：Content-Type:text/html</p><p style="color:rgb(51,51,51);margin-bottom:10px;">一般网页是text/html当然有些是带编码的，比如请求<a href="http://www.tuicool.com：输出：Content-Type:text/html" target="_blank" rel="noopener">www.tuicool.com：输出：Content-Type:text/html</a>; charset=utf-8</p><p style="color:rgb(51,51,51);margin-bottom:10px;">假如请求js文件，比如&nbsp;<a href="http://www.open1111.com/static/js/jQuery.js" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">http://www.open1111.com/static/js/jQuery.js</a>运行输出：Content-Type:application/javascript</p><p style="color:rgb(51,51,51);margin-bottom:10px;">假如请求的是文件，比如&nbsp;<a href="http://central.maven.org/maven2/HTTPClient/HTTPClient/0.3-3/HTTPClient-0.3-3.jar" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">http://central.maven.org/maven2/HTTPClient/HTTPClient/0.3-3/HTTPClient-0.3-3.jar</a></p><p style="color:rgb(51,51,51);margin-bottom:10px;">运行输出：Content-Type:application/java-archive</p><p style="color:rgb(51,51,51);margin-bottom:10px;">当然Content-Type还有一堆，那这东西对于我们爬虫有啥用的，</p><p style="color:rgb(51,51,51);margin-bottom:10px;">我们再爬取网页的时候 ，可以通过Content-Type来提取我们需要爬取的网页或者是爬取的时候，需要过滤掉的一些网页；</p></div><div class="blog_title" style="margin-top:20px;text-align:center;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><h3 style="font-family:inherit;font-weight:500;line-height:1.1;margin-top:20px;margin-bottom:10px;font-size:24px;"><a name="t5"></a><span style="font-weight:700;"><span style="color:#330000;">HttpClient获取响应状态</span><span style="color:#ff0000;">Status</span></span></h3></div><div class="blog_content" style="margin-top:20px;padding-bottom:30px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><p style="color:rgb(51,51,51);margin-bottom:10px;">我们HttpClient向服务器请求时，</p><p style="color:rgb(51,51,51);margin-bottom:10px;">正常情况 执行成功 返回200状态码，</p><p style="color:rgb(51,51,51);margin-bottom:10px;">不一定每次都会请求成功，比如这个请求地址不存在 返回404</p><p style="color:rgb(51,51,51);margin-bottom:10px;">服务器内部报错 返回500</p><p style="color:rgb(51,51,51);margin-bottom:10px;">有些服务器有防采集，假如你频繁的采集数据，则返回403 拒绝你请求。</p><p style="color:rgb(51,51,51);margin-bottom:10px;">当然 我们是有办法的 后面会讲到用代理IP。</p><p style="margin-bottom:10px;"><span style="color:#333333;">这个获取状态码，我们可以用&nbsp;</span><strong><span style="color:#ff0000;">CloseableHttpResponse</span></strong><span style="color:#333333;">对象的</span><strong><span style="color:#ff0000;">getStatusLine().getStatusCode()</span></strong></p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="color:rgb(51,51,51);border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">6</div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">7</div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">8</div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">9</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">10</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">11</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">12</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">13</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">14</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">15</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">16</div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">17</div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">18</div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">19</div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">20</div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">21</div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">22</div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">23</div><div class="line number24 index23 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">24</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:778.4px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">package</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">com.open1111.httpclient.chap02;</code></div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpEntity;</code></div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.CloseableHttpResponse;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.HttpGet;</code></div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.HttpClients;</code></div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.util.EntityUtils;</code></div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">class</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Demo3&nbsp;{</code></div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">static</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">void</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">main(String[]&nbsp;args)&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">throws</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Exception{</code></div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpClient&nbsp;httpClient=HttpClients.createDefault();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;创建httpClient实例</code></div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet&nbsp;httpGet=</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“<a href="http://www.open1111.com&quot;" target="_blank" rel="noopener">http://www.open1111.com&quot;</a></code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);&nbsp;//&nbsp;创建httpget实例</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpGet.setHeader(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“User-Agent”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“Mozilla/5.0&nbsp;(Windows&nbsp;NT&nbsp;6.1;&nbsp;Win64;&nbsp;x64;&nbsp;rv:50.0)&nbsp;Gecko/20100101&nbsp;Firefox/50.0”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;设置请求头消息User-Agent</code></div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpResponse&nbsp;response=httpClient.execute(httpGet);&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;执行http&nbsp;get请求</code></div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“Status:”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+response.getStatusLine().getStatusCode());</code></div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpEntity&nbsp;entity=response.getEntity();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取返回实体</code></div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“Content-Type:”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+entity.getContentType().getValue());</code></div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//System.out.println(“网页内容：”+EntityUtils.toString(entity,&nbsp;”utf-8”));&nbsp;//&nbsp;获取网页内容</code></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;response关闭</code></div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpClient.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;httpClient关闭</code></div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div class="line number24 index23 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div></div></td></tr></tbody></table><p style="color:rgb(51,51,51);margin-bottom:10px;">运行输出：</p><p style="color:rgb(51,51,51);margin-bottom:10px;">Status:200</p><p style="color:rgb(51,51,51);margin-bottom:10px;">Content-Type:text/html;charset=UTF-8</p><p style="color:rgb(51,51,51);margin-bottom:10px;"><br></p><p style="color:rgb(51,51,51);margin-bottom:10px;">假如换个页面&nbsp;<a href="http://www.open1111.com/aaa.jsp" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">http://www.open1111.com/aaa.jsp</a></p><p style="color:rgb(51,51,51);margin-bottom:10px;">因为不存在，所以返回 404</p></div><div class="blog_title" style="margin-top:20px;text-align:center;"><h3 style="font-family:inherit;font-weight:500;line-height:1.1;margin-top:20px;margin-bottom:10px;font-size:24px;"><a name="t6"></a><span style="font-weight:700;"><span style="color:#330000;">HttpClient使用</span><span style="color:#ff0000;">代理IP</span></span></h3></div><div class="blog_content" style="margin-top:20px;padding-bottom:30px;"><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">在爬取网页的时候，有的目标站点有反爬虫机制，对于频繁访问站点以及规则性访问站点的行为，会采集屏蔽IP措施。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">这时候，代理IP就派上用场了。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">关于代理IP的话 也分几种&nbsp;透明代理、匿名代理、混淆代理、高匿代理</p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="color:rgb(51,51,51);">1、</span><span style="color:#ff0000;">透明代理(Transparent Proxy)</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">REMOTE_ADDR = Proxy IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HTTP_VIA = Proxy IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HTTP_X_FORWARDED_FOR = Your IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">透明代理虽然可以直接“隐藏”你的IP地址，但是还是可以从HTTP_X_FORWARDED_FOR来查到你是谁。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="color:rgb(51,51,51);">2、</span><span style="color:#ff0000;">匿名代理(Anonymous Proxy)</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">REMOTE_ADDR = proxy IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HTTP_VIA = proxy IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HTTP_X_FORWARDED_FOR = proxy IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">匿名代理比透明代理进步了一点：别人只能知道你用了代理，无法知道你是谁。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">还有一种比纯匿名代理更先进一点的：混淆代理，见下节。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="color:rgb(51,51,51);">3、</span><span style="color:#ff0000;">混淆代理(Distorting Proxies)</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">REMOTE_ADDR = Proxy IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HTTP_VIA = Proxy IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HTTP_X_FORWARDED_FOR = Random IP address</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">如上，与匿名代理相同，如果使用了混淆代理，别人还是能知道你在用代理，但是会得到一个假的IP地址，伪装的更逼真：-）</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><span style="color:rgb(51,51,51);">4、</span><span style="color:#ff0000;">高匿代理(Elite proxy或High Anonymity Proxy)</span></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">REMOTE_ADDR = Proxy IP</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HTTP_VIA = not determined</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HTTP_X_FORWARDED_FOR = not determined</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">可以看出来，高匿代理让别人根本无法发现你是在用代理，所以是最好的选择。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">一般我们搞爬虫 用的都是 高匿的代理IP；</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">那代理IP 从哪里搞呢 很简单 &nbsp;百度一下，你就知道 一大堆代理IP站点。 &nbsp;一般都会给出一些免费的，但是花点钱搞收费接口更加方便；</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">比如&nbsp;<a href="http://www.66ip.cn/" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">http://www.66ip.cn/</a></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">httpClient使用代理IP代码：<br></p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;color:rgb(51,51,51);border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">6</div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">7</div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">8</div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">9</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">10</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">11</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">12</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">13</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">14</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">15</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">16</div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">17</div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">18</div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">19</div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">20</div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">21</div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">22</div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">23</div><div class="line number24 index23 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">24</div><div class="line number25 index24 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">25</div><div class="line number26 index25 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">26</div><div class="line number27 index26 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">27</div><div class="line number28 index27 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">28</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:778.4px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">package</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">com.open1111.httpclient.chap04;</code></div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpEntity;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpHost;</code></div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.config.RequestConfig;</code></div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.CloseableHttpResponse;</code></div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.HttpGet;</code></div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.HttpClients;</code></div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.util.EntityUtils;</code></div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">class</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Demo1&nbsp;{</code></div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">static</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">void</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">main(String[]&nbsp;args)</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">throws</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Exception&nbsp;{</code></div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpClient&nbsp;httpClient=HttpClients.createDefault();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;创建httpClient实例</code></div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet&nbsp;httpGet=</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“<a href="https://www.taobao.com/&quot;" target="_blank" rel="noopener">https://www.taobao.com/&quot;</a></code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);&nbsp;//&nbsp;创建httpget实例</code></div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff0000;">&nbsp;</span></code><span style="color:#ff0000;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpHost&nbsp;proxy=</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpHost(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“116.226.217.54”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">,&nbsp;</code><code class="java value" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">9999</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);</code></span></div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><span style="color:#ff0000;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">RequestConfig&nbsp;requestConfig=RequestConfig.custom().setProxy(proxy).build();</code></span></div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><span style="color:#ff0000;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpGet.setConfig(requestConfig);</code></span></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpGet.setHeader(</code></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;”User-Agent”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“Mozilla/5.0&nbsp;(Windows&nbsp;NT&nbsp;6.1;&nbsp;Win64;&nbsp;x64;&nbsp;rv:50.0)&nbsp;Gecko/20100101&nbsp;Firefox/50.0”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);</code></div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpResponse&nbsp;response=httpClient.execute(httpGet);&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;执行http&nbsp;get请求</code></div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpEntity&nbsp;entity=response.getEntity();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取返回实体</code></div><div class="line number24 index23 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“网页内容：”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+EntityUtils.toString(entity,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“utf-8”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">));&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取网页内容</code></div><div class="line number25 index24 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;response关闭</code></div><div class="line number26 index25 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpClient.close();&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;httpClient关闭</code></div><div class="line number27 index26 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div class="line number28 index27 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div></div></td></tr></tbody></table><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br>建议大家用国内代理IP 以及主干道网络大城市的代理IP 访问速度快；</p><div><div class="blog_title" style="margin-top:20px;text-align:center;"><h3 style="font-family:inherit;font-weight:500;line-height:1.1;margin-top:20px;margin-bottom:10px;font-size:24px;"><a name="t7"></a><span style="font-weight:700;"><span style="color:#660000;">HttpClient</span><span style="color:#ff0000;">连接超时及读取超时</span></span></h3></div><div class="blog_content" style="margin-top:20px;padding-bottom:30px;"><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HttpClient连接超时及读取超时</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">httpClient在执行具体http请求时候 有一个连接的时间和读取内容的时间；</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><strong><span style="color:#ff0000;">HttpClient连接时间</span></strong></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">所谓连接的时候 是HttpClient发送请求的地方开始到连接上目标url主机地址的时间，理论上是距离越短越快，线路越通畅越快，</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">但是由于路由复杂交错，往往连接上的时间都不固定，运气不好连不上，</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HttpClient的默认连接时间，据我测试，默认是1分钟，假如超过1分钟 过一会继续尝试连接，这样会有一个问题 假如遇到一个url老是连不上，会影响其他线程的线程进去，所以我们有必要进行特殊设置，比如设置10秒钟 假如10秒钟没有连接上 我们就报错，这样我们就可以进行业务上的处理，比如我们业务上控制 过会再连接试试看。并且这个特殊url写到log4j日志里去。方便管理员查看。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><strong><span style="color:#ff0000;">HttpClient读取时间</span></strong></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">所谓读取的时间 是HttpClient已经连接到了目标服务器，然后进行内容数据的获取，一般情况 读取数据都是很快速的，</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">但是假如读取的数据量大，或者是目标服务器本身的问题（比如读取数据库速度慢，并发量大等等..）也会影响读取时间。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">同上，我们还是需要来特殊设置下，比如设置10秒钟 假如10秒钟还没读取完，就报错，同上，我们可以业务上处理。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">比如我们这里给个地址&nbsp;<a href="http://central.maven.org/maven2/" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);" target="_blank">http://central.maven.org/maven2/</a>这个是国外地址 连接时间比较长的，而且读取的内容多&nbsp;</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">很容易出现连接超时和读取超时；</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">我们如何用代码实现呢？</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">HttpClient给我们提供了一个RequestConfig类 专门用于配置参数比如连接时间，读取时间以及前面讲解的代理IP等。</p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);"><br></p><p style="margin-bottom:10px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;background-color:rgb(253,253,253);">这里给下示例代码：</p><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter java" style="border-spacing:0px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:823.2px;color:rgb(51,51,51);border-collapse:separate;background:rgb(245,245,245) none;border:1px solid rgb(204,204,204);float:none;line-height:1.1em;margin:.3em 0px;padding:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><tbody style="background:none;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><tr style="background:none;border-top:0px;float:none;line-height:1.1em;margin:0px;padding:0px;vertical-align:baseline;width:auto;min-height:auto;"><td class="gutter" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;padding:9.5px 0px 9.5px 9.5px;background:rgb(247,247,249) none;border-top:0px;border-bottom:0px;border-left:0px;border-right-color:rgb(225,225,232);float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;font-size:13px;color:rgb(175,175,175);"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">1</div><div class="line number2 index1 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">2</div><div class="line number3 index2 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">3</div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">4</div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">5</div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">6</div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">7</div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">8</div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">9</div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">10</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">11</div><div class="line number12 index11 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">12</div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">13</div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">14</div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">15</div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">16</div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">17</div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">18</div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">19</div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">20</div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">21</div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">22</div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">23</div><div class="line number24 index23 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">24</div><div class="line number25 index24 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">25</div><div class="line number26 index25 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">26</div><div class="line number27 index26 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">27</div><div class="line number28 index27 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px .5em 0px 1em;text-align:right;vertical-align:baseline;width:auto;min-height:auto;white-space:pre;">28</div></td><td class="code" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:778.4px;padding:0px;background:none;border-width:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;min-height:auto;font-size:13px;"><div class="container" style="padding:0px;margin:0px;width:auto;background:none;border:0px;float:none;line-height:1.1em;vertical-align:baseline;min-height:auto;"><div class="line number1 index0 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:rgb(255,120,0);border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code><span>&nbsp;</span><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;background:none;font-size:13px;padding:0px;color:#000000;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.HttpEntity;</code></div><div class="line number4 index3 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.config.RequestConfig;</code></div><div class="line number5 index4 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.CloseableHttpResponse;</code></div><div class="line number6 index5 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.client.methods.HttpGet;</code></div><div class="line number7 index6 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.CloseableHttpClient;</code></div><div class="line number8 index7 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.impl.client.HttpClients;</code></div><div class="line number9 index8 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">import</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">org.apache.http.util.EntityUtils;</code></div><div class="line number10 index9 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;</div><div class="line number11 index10 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">class</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Demo2&nbsp;{</code></div><div class="line number13 index12 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">public</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">static</code>&nbsp;<code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">void</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">main(String[]&nbsp;args)</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">throws</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">Exception&nbsp;{</code></div><div class="line number14 index13 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpClient&nbsp;httpClient=HttpClients.createDefault(); &nbsp; &nbsp; &nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;创建httpClient实例</code></div><div class="line number15 index14 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet&nbsp;httpGet=</code><code class="java keyword" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(255,120,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;font-weight:bold;min-height:auto;">new</code>&nbsp;<code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpGet(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“<a href="http://central.maven.org/maven2/&quot;" target="_blank" rel="noopener">http://central.maven.org/maven2/&quot;</a></code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);&nbsp;//&nbsp;创建httpget实例</code></div><div class="line number16 index15 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;"><span style="color:#ff0000;">RequestConfig&nbsp;config=RequestConfig.custom()</span></code></div><div class="line number17 index16 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><span style="color:#ff0000;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">.setConnectTimeout(</code><code class="java value" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">5000</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">)</code></span></div><div class="line number18 index17 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><span style="color:#ff0000;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">.setSocketTimeout(</code><code class="java value" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">5000</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">)</code></span></div><div class="line number19 index18 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><span style="color:#ff0000;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">.build();</code></span></div><div class="line number20 index19 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><span style="color:#ff0000;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpGet.setConfig(config);</code></span></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpGet.setHeader(</code></div><div class="line number21 index20 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;”User-Agent”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“Mozilla/5.0&nbsp;(Windows&nbsp;NT&nbsp;6.1;&nbsp;Win64;&nbsp;x64;&nbsp;rv:50.0)&nbsp;Gecko/20100101&nbsp;Firefox/50.0”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">);</code></div><div class="line number22 index21 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">CloseableHttpResponse&nbsp;response=httpClient.execute(httpGet);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;执行http&nbsp;get请求</code></div><div class="line number23 index22 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">HttpEntity&nbsp;entity=response.getEntity();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取返回实体</code></div><div class="line number24 index23 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">System.out.println(</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“网页内容：”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">+EntityUtils.toString(entity,&nbsp;</code><code class="java string" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#0000FF;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">“utf-8”</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">)); &nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;获取网页内容</code></div><div class="line number25 index24 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">response.close();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;response关闭</code></div><div class="line number26 index25 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">httpClient.close();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:rgb(0,130,0);background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">//&nbsp;httpClient关闭</code></div><div class="line number27 index26 alt2" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java spaces" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div class="line number28 index27 alt1" style="background:none;border:0px;float:none;line-height:1.1em;margin:0px;padding:0px 1em;vertical-align:baseline;width:auto;min-height:auto;"><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;">}</code></div><div><code class="java plain" style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;padding:0px;color:#000000;background:none;border:0px;float:none;line-height:1.1em;margin:0px;vertical-align:baseline;width:auto;min-height:auto;"><br></code></div></div></td></tr></tbody></table></div><br></div></div><br></div><br></div></div><span style="color:#333333;"><span style="font-family:arial, '宋体', sans-serif;text-indent:28px;background-color:rgb(255,255,255);"></span></span></div><p></p>            </div><br>                </div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;article_content&quot; class=&quot;article_content clearfix csdn-tracking-statistics&quot; data-pid=&quot;blog&quot; data-mod=&quot;popu_307&quot; data-dsm=&quot;post&quot;&gt;&lt;br&gt;
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java工具类" scheme="http://yoursite.com/tags/java%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>eclipse安装svn及其使用</title>
    <link href="http://yoursite.com/2018/08/11/eclipse%E5%AE%89%E8%A3%85svn%E5%8F%8A%E5%85%B6%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2018/08/11/eclipse安装svn及其使用/</id>
    <published>2018-08-11T13:10:18.000Z</published>
    <updated>2018-08-11T13:11:35.492Z</updated>
    
    <content type="html"><![CDATA[<p>此教程为eclipse安装svn</p><h2 id="安装SVN"><a href="#安装SVN" class="headerlink" title="安装SVN"></a>安装SVN</h2><p><img src="/img/eclipse_svn/setup_1.png" alt=""><br><img src="/img/eclipse_svn/setup_2.png" alt=""></p><h2 id="安装好后"><a href="#安装好后" class="headerlink" title="安装好后"></a>安装好后</h2><p><img src="/img/eclipse_svn/afterSetup_1.png" alt=""><br><img src="/img/eclipse_svn/afterSetup_2.png" alt=""><br><img src="/img/eclipse_svn/afterSetup_3.png" alt=""></p><h2 id="添加一个资源库"><a href="#添加一个资源库" class="headerlink" title="添加一个资源库"></a>添加一个资源库</h2><p><img src="/img/eclipse_svn/addRepo_1.png" alt=""><br><img src="/img/eclipse_svn/addRepo_2.png" alt=""><br>输入帐号密码<br><img src="/img/eclipse_svn/addRepo_3.png" alt=""></p><h2 id="导出项目"><a href="#导出项目" class="headerlink" title="导出项目"></a>导出项目</h2><p><img src="/img/eclipse_svn/checkout_1.png" alt=""><br><img src="/img/eclipse_svn/checkout_2.png" alt=""><br><img src="/img/eclipse_svn/checkout_3.png" alt=""></p><h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><p><img src="/img/eclipse_svn/end.png" alt=""><br>至此已经完成</p><h2 id="更新和提交"><a href="#更新和提交" class="headerlink" title="更新和提交"></a>更新和提交</h2><p><img src="/img/eclipse_svn/operate_1.png" alt=""><br><img src="/img/eclipse_svn/operate_2.png" alt=""><br><img src="/img/eclipse_svn/operate_3.png" alt=""><br><img src="/img/eclipse_svn/operate_4.png" alt=""><br><img src="/img/eclipse_svn/operate_5.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;此教程为eclipse安装svn&lt;/p&gt;
&lt;h2 id=&quot;安装SVN&quot;&gt;&lt;a href=&quot;#安装SVN&quot; class=&quot;headerlink&quot; title=&quot;安装SVN&quot;&gt;&lt;/a&gt;安装SVN&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/img/eclipse_svn/setup_1
      
    
    </summary>
    
      <category term="关于技术的深入浅出" scheme="http://yoursite.com/categories/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF%E7%9A%84%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA/"/>
    
    
      <category term="javaWeb" scheme="http://yoursite.com/tags/javaWeb/"/>
    
  </entry>
  
  <entry>
    <title>javaWeb面试常考题</title>
    <link href="http://yoursite.com/2018/08/11/javaWeb%E9%9D%A2%E8%AF%95%E5%B8%B8%E8%80%83%E9%A2%98/"/>
    <id>http://yoursite.com/2018/08/11/javaWeb面试常考题/</id>
    <published>2018-08-11T12:47:22.000Z</published>
    <updated>2018-09-20T09:27:39.172Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CoreJava"><a href="#CoreJava" class="headerlink" title="CoreJava"></a>CoreJava</h2><h3 id="Chapter1"><a href="#Chapter1" class="headerlink" title="Chapter1"></a>Chapter1</h3><h4 id="为何大家都在用java做开发？（什么特性吸引了他们）"><a href="#为何大家都在用java做开发？（什么特性吸引了他们）" class="headerlink" title="为何大家都在用java做开发？（什么特性吸引了他们）"></a>为何大家都在用java做开发？（什么特性吸引了他们）</h4><p><strong>简单：</strong><br>C++语言等都有指针的概念，在java里面没有这个概念，并且由程序产生的内存被自动回收<br>当然更重要的还是后面学习的面向对象才有体现。对象完成所有工作。<br><strong>Java跨平台：</strong><br>一次写好，处处运行。不需要针对每个平台（操作系统）重新写一个程序。<br>95年java一公布就受到热捧，并在此后迅速发展，成为最受欢迎的开发语言，恰好internet高速发展，java与网络天生搭档。最适合做b/s程序。B指browser，S指server。<br><strong>安全性：</strong><br>严格遵循面向对象的规范。这样封装了数据细节，只提供接口给用户。增加了数据级的安全性<br><strong>无指针运算：</strong><br>java中的操作，除了基本类型都是引用的操作。引用是不能进行增减运算，不能被直接赋予内存地址的，从而增加了内存级的安全性。<br>数组边界检查。<br><strong>面向对象（开发思维区别）：</strong><br>与面向过程的c语言是有差别的。（c,c++,c#,pb,Delphi,scala）<br>客观存在的东西叫做对象—————–&gt;类class（旺财，小白，小黑）<br>造车(例)：<br>“面向过程”，就是先造车轮，再造发动机，再造车身。。。。。依次制造，造完前面的，才能造后面的。<br>“面向对象”，就是不分前后，造完所有的（车轮，发动机，车身。。。），再组装起来。面向的是具体的事物。<br> 耦合度低。面向对象<br><strong>垃圾回收：</strong><br>c语言析构函数，回收变量占用的内存，java则是自动回收，不用担心内存溢出。<br><strong>内存溢出：</strong><br>内存溢出是指应用系统中存在无法回收的内存或使用的内存过多，最终使得程序运行要用到的内存大于虚拟机能提供的最大内存<br><strong>开放性：</strong><br>Java的jdk是完全开放的，开源（开放源代码）所以他获得了巨大成功，不断使用java，不断改进java。</p><h4 id="虚拟机，jre，jdk的区别"><a href="#虚拟机，jre，jdk的区别" class="headerlink" title="虚拟机，jre，jdk的区别"></a>虚拟机，jre，jdk的区别</h4><p><strong>JVM：</strong>虚拟机，顾名思义就是虚拟的一台计算机，可以看成一台机器，也有内存，处理器，寄存器，堆栈等等资源和硬件，只不过都是模拟出来的，主要是用来运行Java程序的。<br>JVM的主要作用是通过Class Loader来加载Java程序，并且按照Java API来执行加载的程序。<br><strong>Jre：</strong>java runtime environment java运行时环境，包括了JVM<br>包括Java虚拟机(JVM Java Virtual Machine)和Java程序所需的核心类库等，如果想要运行一个开发好的Java程序，计算机中只需要安装JRE即可。<br><strong>Jdk：</strong>java development kit  java开发工具包，为开发人员服务的。包含了jreJDK是提供给Java开发人员使用的，其中包含了java的开发工具，也包括了JRE。所以安装了JDK，就不用在单独安装JRE了。<br>其中的开发工具：编译工具(javac.exe)  打包工具(jar.exe)等<br><strong>总结：</strong><br><code>Jvm(虚拟机，运行java的class文件)&lt;jre(java运行的环境：jvm启动命令+其他java运行必备的工具包)&lt; jdk(开发者必备：jre+开发工具类包)</code></p><h3 id="Chapter6"><a href="#Chapter6" class="headerlink" title="Chapter6"></a>Chapter6</h3><h4 id="String-和-new-String-的区别"><a href="#String-和-new-String-的区别" class="headerlink" title="String 和 new String()的区别"></a>String 和 new String()的区别</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str1 = <span class="string">"ABC"</span></span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">"ABC"</span>);</span><br></pre></td></tr></table></figure><p><code>String str1 = &quot;ABC&quot;;</code>可能创建一个对象或者不创建对象。<br>如果<code>&quot;ABC&quot;</code>这个字符串在java String常量池中不存在，会在java String常量池中创建一个<code>String str1= &quot;ABC&quot;</code>的对象。然后把str1指向这个内存地址。之后用这种方式创建多少个值为<code>&quot;ABC&quot;</code>的字符串对象。始终只有一个内存地址被分配，之后都是String的copy。这种被称为<code>‘字符串驻留’</code>，所有的字符串都会在编译之后自动驻留。<br><code>String str2 = new String(&quot;ABC&quot;);</code>至少会创建一个对象，也可能2个。<br>因为用到了new的关键字，肯定会在heap中创建一个str2的对象。它的value值是<code>&quot;ABC&quot;</code>，同时如果这个字符串在string常量池中不存在，会在string常量池中创建这个string对象<code>&quot;ABC&quot;</code>。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str1 = <span class="keyword">new</span> String(<span class="string">"ABC"</span>);</span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">"ABC"</span>);</span><br><span class="line">System.out.println(str1.equals(str2)); <span class="comment">// true 比较的值</span></span><br><span class="line">System.out.println(str1 == str2); <span class="comment">// false 比较的是内存地址。</span></span><br></pre></td></tr></table></figure></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String str3 = <span class="string">"ABC"</span></span><br><span class="line">String str4 = <span class="string">"ABC"</span></span><br><span class="line">String str5 = <span class="string">"AB"</span>+<span class="string">"C"</span>;</span><br><span class="line">System.out.println(str3 == str4); <span class="comment">//true 在string池中都是一个内存地址被分配给str3,str4,str5</span></span><br><span class="line">System.out.println(str3 == str5); <span class="comment">//true</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str6 = <span class="string">"AB"</span>;</span><br><span class="line">String str7 = str6 + <span class="string">"C"</span>;</span><br><span class="line">System.out.println(str3 == str7); <span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>str6在编译的时候已经确认为string池的对象。<br>str7在编译的时候不能确认，故str7是一个引用变量。<br>str6+”C”的过程是创建了一个<code>StringBuffer对象</code>，然后用<code>StringBuffer对象</code>执行<code>append</code>方法追加，最后再转成String类型，也就是str7是放在heap里面的对象，str6是放在String常量池里的。两个的内存地址不一样。故结果为false。</p><h3 id="chapter7"><a href="#chapter7" class="headerlink" title="chapter7"></a>chapter7</h3><h4 id="重载和覆盖的区别"><a href="#重载和覆盖的区别" class="headerlink" title="重载和覆盖的区别"></a>重载和覆盖的区别</h4><p><strong>方法的覆盖和重载具有以下相同点：</strong><br>都要求方法同名<br>都可以用于抽象方法和非抽象方法之间<br><strong>方法的覆盖和重载具有以下不同点：</strong><br>方法覆盖要求参数列表（参数签名）必须一致，而方法重载要求参数列表必须不一致。<br>方法覆盖要求返回类型必须一致，方法重载对此没有要求。<br>方法覆盖只能用于子类覆盖父类的方法，方法重载用于同一个类中的所有方法（包括从父类中继承而来的方法）<br>方法覆盖对方法的访问权限和抛出的异常有特殊的要求，而方法重载在这方面没有任何限制。<br>父类的一个方法只能被子类覆盖一次，而一个方法可以在所有的类中可以被重载多次。</p><p><strong>另外，对于属性（成员变量）而言，是不能重载的，只能覆盖。</strong></p><h3 id="chapter9"><a href="#chapter9" class="headerlink" title="chapter9"></a>chapter9</h3><h4 id="接口和抽象类区别："><a href="#接口和抽象类区别：" class="headerlink" title="接口和抽象类区别："></a>接口和抽象类区别：</h4><p><strong>不同点</strong><br>1.前者不是类，interface，后者class<br>2.接口里面的方法必须是全部抽象，抽象类里面的方法只要有一个是抽象的方法即可。<br>3.接口被实现的时候一定要子类重写里面所有的方法，抽象类被继承的时候，只需要重写里面那些抽象的方法即可。<br>4.抽象类只能继承一个类，接口却可以多继承。<br><strong>相同点：</strong><br>1.都是抽象的，都是为了被继承或者实现。Implements,extends<br>2.都有多态。父类(接口)   a=new 子类();</p><h3 id="chapter10"><a href="#chapter10" class="headerlink" title="chapter10"></a>chapter10</h3><h4 id="和equals-的区别"><a href="#和equals-的区别" class="headerlink" title="==和equals()的区别"></a>==和equals()的区别</h4><p><code>==</code>号在比较基本数据类型时比较的是值，而用<code>==</code>号比较两个对象时比较的是两个对象的地址值<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> y = <span class="number">10</span>;</span><br><span class="line">String str1 = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">System.out.println(x == y); <span class="comment">// 输出true</span></span><br><span class="line">System.out.println(str1 == str2); <span class="comment">// 输出false</span></span><br></pre></td></tr></table></figure></p><p><code>equals()</code>方法存在于Object类中，因为Object类是所有类的直接或间接父类，也就是说所有的类中的<code>equals()</code>方法都继承自Object类,<br>Object中<code>equals()</code>默认的比较规则是：a对象和b对象比较，相当于a==b，也就是比较的地址。任何对象和null比较永远是false。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str1 = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">System.out.println(str1.equals(str2));<span class="comment">//true,String对equals进行了重写</span></span><br><span class="line">System.out.println(str1 == str2);<span class="comment">//false</span></span><br></pre></td></tr></table></figure></p><p>Java提供的所有类中，绝大多数类都重写了equals()方法，重写后的equals()方法一般都是比较两个对象的值.<br><strong>注意：</strong>重写一般一起重写<code>equals()</code>和<code>hashCode()</code><br><strong>搞清楚这句话相当重要：</strong><br>任何一个对象都有一个伪地址。Hashcode。如果hashcode不一样，肯定两个对象不等。<br>如果hashcode一样，能说明两个对象就相等？不能，因为hashcode只是表示一个空间，一个空间完全有可能住着两个不同的对象。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String s1 = <span class="string">"abc"</span>;</span><br><span class="line">String s2 = <span class="string">"abc"</span>;</span><br><span class="line">System.out.println(s1.equals(s2));<span class="comment">//true</span></span><br><span class="line">System.out.println(s1 == s2);<span class="comment">//ftrue</span></span><br></pre></td></tr></table></figure></p><p>为什么第二个会是true呢？<br>这就涉及到了内存中的<code>常量池</code>，常量池属于方法区的一部分，当运行到s1创建对象时，如果<code>常量池</code>中没有，就在<code>常量池</code>中创建一个对象”abc”,第二次创建的时候，就直接使用，所以两次创建的对象其实是同一个对象，它们的地址值相等。</p><h3 id="Chapter11"><a href="#Chapter11" class="headerlink" title="Chapter11"></a>Chapter11</h3><h4 id="ArrayList-，LinkedList的区别"><a href="#ArrayList-，LinkedList的区别" class="headerlink" title="ArrayList ，LinkedList的区别"></a>ArrayList ，LinkedList的区别</h4><p><strong>注意：</strong>List集合其实就是可动态扩充的数组，里面存的不是对象，而是对象的引用<br>LinkedList结构：<br><img src="/img/interview/ArrayList_LinkedList.png" alt=""><br> 都是实现了List接口。<br>前者（数组结构）其实就是一个数组，所以查找快，插入删除效率低。后者（链表结构）查找元素慢，插入删除快。</p><h4 id="Vector-，ArrayList的区别"><a href="#Vector-，ArrayList的区别" class="headerlink" title="Vector ，ArrayList的区别"></a>Vector ，ArrayList的区别</h4><p>相同点：二者都是基于数组<br>不同点：前者线程安全，是重量级，后者线程不安全，属于轻量级</p><h4 id="HashSet-，TreeSet的区别："><a href="#HashSet-，TreeSet的区别：" class="headerlink" title="HashSet ，TreeSet的区别："></a>HashSet ，TreeSet的区别：</h4><p><strong>注意：</strong>HashSet的不可重复的判断规则为将对象放入到集合中时，首先判断要放入对象的<code>hashcode</code>值与集合中的任意一个元素的hashcode值是否相等，如果不相等直接将该对象放入集合中。<br>如果<code>hashcode</code>值相等，然后再通过<code>equals</code>方法判断要放入对象与集合中的任意一个对象是否相等，如果<code>equals</code>判断不相等，直接将该元素放入到集合中，否则不放入。<br>HashSet容器图解：<br><img src="/img/interview/Set_HashSet.png" alt=""><br>都是set，特点：不能放重复元素，无序的。<br>放入元素的时候，判断元素不重复的方式不一样。<br>Hashset先判断hashcode，如果不等，直接放入集合，如果相等再判断equals。<br>Treeset只根据compareTo方法判断。</p><h4 id="HashMap-，HashTable的区别"><a href="#HashMap-，HashTable的区别" class="headerlink" title="HashMap ，HashTable的区别"></a>HashMap ，HashTable的区别</h4><p><strong>注意：</strong>Map的特点是Key不能重复，value是可以重复的。Key和value都可以为null(编译可以通过),Key一般情况下使用string，具备的特点是：key值得类型是不可变的。<br>1.HashTable线程安全的，速度慢，HashMap线程不安全，效率高<br>2.HashTable里面key不能为null。HashMap可以为null。<br>HashMap一般情况下key都选用String，key本身是不可变的。</p><h4 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h4><p>TreeMap 里面的元素会自动排序，排序要求里面的元素的key是实现了comparable接口，也就是可以比较。Key一般都是String，所以一般map排序都是按照字符串的顺序。<br>遍历方式同HashMap。</p><h4 id="总结：List-Set-Map三个接口区别"><a href="#总结：List-Set-Map三个接口区别" class="headerlink" title="总结：List,Set,Map三个接口区别"></a>总结：List,Set,Map三个接口区别</h4><p>List有序，可以重复；<br>Set无序，不能重复；<br>Map存的是键值对，key不能重复，可以为空，value可以为空，一般key会用String类型。<br><img src="/img/interview/list_map_set.png" alt=""></p><h4 id="经典例题"><a href="#经典例题" class="headerlink" title="经典例题"></a>经典例题</h4><p>统计下面一篇文章中出现的单词以及每个单词出现的次数。<br><code>Java is the foundation for virtually every type of networked application and is the global standard for developing and delivering embedded applications。</code></p><h3 id="chapter12"><a href="#chapter12" class="headerlink" title="chapter12"></a>chapter12</h3><h4 id="异常的分类"><a href="#异常的分类" class="headerlink" title="异常的分类"></a>异常的分类</h4><p>1.<strong>检查异常(编译时异常)</strong>—-程序员控制不了的异常，编译时候强制处理，提前预期到。  Exception,FileNotFoundException文件找不到异常。<br>2.<strong>非检查异常(运行时异常)</strong>—-程序员粗心大意，可以避免的错误，编译的时候不会检查出来，运行的时候出现，也叫运行时异常。Runtimeexception</p><h3 id="chapter13"><a href="#chapter13" class="headerlink" title="chapter13"></a>chapter13</h3><h4 id="多进程的意义"><a href="#多进程的意义" class="headerlink" title="多进程的意义"></a>多进程的意义</h4><p>单进程的计算机只能做一件事，而现在都可以做多件事情，支持多进程，可以在一个时间段内执行多个任务。提高了cpu的利用率。</p><h4 id="多线程的意义"><a href="#多线程的意义" class="headerlink" title="多线程的意义"></a>多线程的意义</h4><p>1.多线程的存在，不是提高程序的执行速度。其实是为了提高应用程序的使用率。<br>2.程序的执行其实都是在抢CPU的资源，CPU的执行权。<br>3.多个进程是在抢这个资源，而其中的某一个进程如果执行路径比较多，就会有更高的几率抢到CPU的执行权。<br>4.我们是不敢保证哪一个线程能够在哪个时刻抢到，所以线程的执行有随机性。<br>线程的生命周期：<br><img src="/img/interview/thread.png" alt=""></p><h4 id="淘宝笔试题："><a href="#淘宝笔试题：" class="headerlink" title="淘宝笔试题："></a>淘宝笔试题：</h4><p>一个长度的30000000的int数组，其中放随机数，利用多核的优势，求数组中元素的和。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Future;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * bigData[30000000]三千万的一个数组，里面存放随机数，同时开启多个线程进行求和</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Exrcises</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//随机数生成器</span></span><br><span class="line">Random r = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="comment">//定义数组</span></span><br><span class="line"><span class="keyword">int</span>[] bigData = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">30000000</span>];</span><br><span class="line"><span class="comment">//数组赋值</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; bigData.length; i++) &#123;</span><br><span class="line">bigData[i]=r.nextInt(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义开启的线程个数</span></span><br><span class="line"><span class="keyword">int</span> count = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//计算每个线程进行计算的个数</span></span><br><span class="line"><span class="keyword">int</span> countLength = bigData.length/count;</span><br><span class="line"><span class="comment">//用于存储结果</span></span><br><span class="line"><span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//定义线程池</span></span><br><span class="line">ExecutorService pool = Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> start = i*countLength;</span><br><span class="line"><span class="keyword">int</span> end = (i+<span class="number">1</span>)*countLength;</span><br><span class="line">SumCallable t = <span class="keyword">new</span> SumCallable(bigData, start, end);</span><br><span class="line"><span class="comment">//从线程池中分配空闲线程(提交到线程池执行)</span></span><br><span class="line">Future future = pool.submit(t);</span><br><span class="line">Object result = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//获取线程call方法返回值</span></span><br><span class="line">result = future.get();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line">sum+=(<span class="keyword">long</span>)result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//关闭线程池</span></span><br><span class="line">pool.shutdown();</span><br><span class="line">System.out.println(sum);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 单个求和(has a)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SumCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> bigData[];</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> start;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> end;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">SumCallable</span><span class="params">(<span class="keyword">int</span>[] bigData, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.bigData = bigData;</span><br><span class="line"><span class="keyword">this</span>.start = start;</span><br><span class="line"><span class="keyword">this</span>.end = end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"><span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">sum+=bigData[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="chapter15"><a href="#chapter15" class="headerlink" title="chapter15"></a>chapter15</h3><h4 id="序列化与反序列化"><a href="#序列化与反序列化" class="headerlink" title="序列化与反序列化"></a>序列化与反序列化</h4><p><strong>序列化：</strong>把对象转换为字节序列的过程称为对象的序列化。指把堆内存中的 Java 对象数据，通过某种方式把对象存储到磁盘文件中或者传递给其他网络节点（在网络上传输）。<br><strong>反序列化：</strong>把字节序列恢复为对象的过程称为对象的反序列化。指把磁盘文件中的对象数据或者把网络节点上的对象数据，恢复成Java对象模型的过程。</p><h4 id="为什么要序列化"><a href="#为什么要序列化" class="headerlink" title="为什么要序列化"></a>为什么要序列化</h4><p>1.在分布式系统中，此时需要把对象在网络上传输，就得把对象数据转换为二进制形式，需要共享的数据的 JavaBean 对象，都得做序列化。<br>2.服务器钝化：如果服务器发现某些对象好久没活动了，那么服务器就会把这些内存中的对象持久化在本地磁盘文件中（Java对象转换为二进制文件）；如果服务器发现某些对象需要活动时，先去内存中寻找，找不到再去磁盘文件中反序列化我们的对象数据，恢复成 Java 对象。这样能节省服务器内存。</p><h4 id="序列化的时机"><a href="#序列化的时机" class="headerlink" title="序列化的时机"></a>序列化的时机</h4><p>1.把的内存中的对象状态保存到一个文件中或者数据库中时候；<br>2.用套接字在网络上传送对象的时候；<br>3.通过RMI传输对象的时候；</p><h3 id="chapter17"><a href="#chapter17" class="headerlink" title="chapter17"></a>chapter17</h3><h4 id="新特性静态导入"><a href="#新特性静态导入" class="headerlink" title="新特性静态导入"></a>新特性静态导入</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStatic</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">System.out.println(PI);<span class="comment">//静态导入后，调用静态的东西不需要写类名</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里的导入包多了个static，还有就是类名ClassName后面多了个<code>.*</code> ，意思是导入这个类里的所有静态属性及方法。当然，也可以只导入某个静态方法，只要把<code>.*</code>换成静态方法名就行了。<br>然后在这个类中，就可以直接用方法名调用静态方法，而不必用ClassName.方法名 的方式来调用。<br>不建使用静态导入，此方式使代码可读性变差，并且如果导入了不同类的静态的变量可能会产生重名冲突。</p><h4 id="StringBuffer与StringBuilder的区别"><a href="#StringBuffer与StringBuilder的区别" class="headerlink" title="StringBuffer与StringBuilder的区别"></a>StringBuffer与StringBuilder的区别</h4><p>String：字符串常量<br>StringBuffer：字符串变量<br>StringBuilder：字符串变量<br><strong>区别:</strong><br>StringBuilder是线程不安全的,运行速速快,效率高。<br>StringBuffer是线程安全的,运行速度慢,效率低。<br><strong>总结:</strong><br>1)String：适用于少量的字符串操作的情况<br>2)StringBuilder：适用于单线程下在字符缓冲区进行大量操作的情况<br>3)StringBuffer：适用多线程下在字符缓冲区进行大量操作的情况<br>4)StringBuffer和StringBuilder拼接字符串不会产生中间对象<br>5)运行速度快慢为：StringBuilder &gt; StringBuffer &gt; String</p><h2 id="Oracle"><a href="#Oracle" class="headerlink" title="Oracle"></a>Oracle</h2><h3 id="Char和varchar区别？"><a href="#Char和varchar区别？" class="headerlink" title="Char和varchar区别？"></a>Char和varchar区别？</h3><p>Char(10)表示固定长度，数据库分配给该列10个字节的长度。<br>Varchar（10）表示最多占用10个字节。取决于数据长度。</p><h3 id="面试题-查询出每个部门中，高处本部门平均工资的员工的雇员号和姓名"><a href="#面试题-查询出每个部门中，高处本部门平均工资的员工的雇员号和姓名" class="headerlink" title="(面试题)查询出每个部门中，高处本部门平均工资的员工的雇员号和姓名"></a>(面试题)查询出每个部门中，高处本部门平均工资的员工的雇员号和姓名</h3><p>方案一：<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> employee_id,first_name,department_id <span class="keyword">from</span> employees a <span class="keyword">where</span> salary&gt;</span><br><span class="line">(<span class="keyword">select</span> <span class="built_in">avg</span>(salary) <span class="keyword">from</span> employees <span class="keyword">where</span> department_id=a.department_id) <span class="keyword">order</span> <span class="keyword">by</span> department_id;</span><br></pre></td></tr></table></figure></p><p>方案二：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询所有员工信息(表a)</span></span><br><span class="line"><span class="keyword">select</span> employee_id,first_name,department_id,salary <span class="keyword">from</span> employees;</span><br><span class="line"><span class="comment">--查询部门及其平均工资（表b）</span></span><br><span class="line"><span class="keyword">select</span> department_id,<span class="keyword">round</span>(<span class="keyword">avg</span>(salary)) <span class="keyword">as</span> pj <span class="keyword">from</span> employees <span class="keyword">group</span> <span class="keyword">by</span> department_id;</span><br><span class="line"><span class="comment">--关查询</span></span><br><span class="line"><span class="keyword">select</span> a.employee_id,a.first_name <span class="keyword">from</span> a <span class="keyword">inner</span> <span class="keyword">join</span> b <span class="keyword">on</span> a.department_id=b.department_id <span class="keyword">where</span> a.salary&gt;b.pj;</span><br></pre></td></tr></table></figure></p><h2 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h2><h3 id="Hibernate"><a href="#Hibernate" class="headerlink" title="Hibernate"></a>Hibernate</h3><h4 id="总结：load，get方式区别"><a href="#总结：load，get方式区别" class="headerlink" title="总结：load，get方式区别"></a>总结：load，get方式区别</h4><p>1.load是生成一个代理类，也就是采用懒加载机制，get方式直接去获取数据(懒加载就是一开始并不加载持久对象，而是加载代理类，等到要使用该对象的时候才真正加载)</p><ol start="2"><li>3.get方式在数据库没有对应记录的时候返回null，load方式将会抛出异常。<h4 id="Jvm垃圾回收："><a href="#Jvm垃圾回收：" class="headerlink" title="Jvm垃圾回收："></a>Jvm垃圾回收：</h4>无人用的时候，游离态会回收；<br>相互引用的时候也会垃圾回收；</li></ol><h2 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h2><h4 id="AOP-OOP区别？"><a href="#AOP-OOP区别？" class="headerlink" title="AOP,OOP区别？"></a>AOP,OOP区别？</h4><p>Oop：面向对象 封装，继承，多态  纵向的。<br>Aop：在每个对象某个切入点上，经历共同的切面代码。<br><img src="/img/interview/aop_oop.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;CoreJava&quot;&gt;&lt;a href=&quot;#CoreJava&quot; class=&quot;headerlink&quot; title=&quot;CoreJava&quot;&gt;&lt;/a&gt;CoreJava&lt;/h2&gt;&lt;h3 id=&quot;Chapter1&quot;&gt;&lt;a href=&quot;#Chapter1&quot; class=&quot;head
      
    
    </summary>
    
      <category term="关于技术的深入浅出" scheme="http://yoursite.com/categories/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF%E7%9A%84%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA/"/>
    
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Oracle之plSql</title>
    <link href="http://yoursite.com/2018/08/03/Oracle%E4%B9%8BplSql/"/>
    <id>http://yoursite.com/2018/08/03/Oracle之plSql/</id>
    <published>2018-08-03T03:43:17.000Z</published>
    <updated>2018-08-21T14:27:13.772Z</updated>
    
    <content type="html"><![CDATA[<p>什么是plsql？<br>它是结合Oracle过程语言和结构化查询语言的一种扩展语言，用于在数据库完成一些业务功能。比如完成存储过程和触发器等供程序调用。</p><h2 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h2><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">DECLARE</span><br><span class="line">-<span class="ruby">-标记声明部分</span></span><br><span class="line"><span class="ruby">--变量的声明，必须要在<span class="keyword">begin</span>前面</span></span><br><span class="line"><span class="ruby">--声明一些变量、常量、用户定义的数据类型及游标</span></span><br><span class="line"><span class="ruby">--注意：赋值用<span class="string">'index:=1'</span>的形式 </span></span><br><span class="line"><span class="ruby">name varchar(<span class="number">30</span>); --声明时不设置值</span></span><br><span class="line"><span class="ruby">name varchar(<span class="number">30</span>)<span class="symbol">:</span>=‘Jack’;--声明带有默认值 </span></span><br><span class="line"><span class="ruby">name preson.name%type; --直接引用一个表的数据类型</span></span><br><span class="line"><span class="ruby"><span class="keyword">BEGIN</span></span></span><br><span class="line"><span class="ruby">--标记主程序体部分开始</span></span><br><span class="line"><span class="ruby">--主程序体，在这里可以加入各种合法语句</span></span><br><span class="line"><span class="ruby">EXCEPTION </span></span><br><span class="line"><span class="ruby">--标记异常处理部分开始</span></span><br><span class="line"><span class="ruby">--异常处理程序，当程序中出现错误时执行这一部分</span></span><br><span class="line"><span class="ruby"><span class="keyword">END</span> </span></span><br><span class="line"><span class="ruby">--标记主程序体结束部分</span></span><br></pre></td></tr></table></figure><h2 id="各部分介绍"><a href="#各部分介绍" class="headerlink" title="各部分介绍"></a>各部分介绍</h2><h3 id="输出语句，用来调试"><a href="#输出语句，用来调试" class="headerlink" title="输出语句，用来调试"></a>输出语句，用来调试</h3><p><code>set serveroutput on;--用于开启控制台，运行一次即可s</code><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">  age <span class="built_in">int</span>:=<span class="number">0</span>;</span><br><span class="line">  name varchar(30):='xiaoming';</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  dbms_output.put_line(<span class="string">'Hello Oracle!!!'</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><h3 id="输入语句"><a href="#输入语句" class="headerlink" title="输入语句"></a>输入语句</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">accept age prompt '请输入年龄';</span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   <span class="comment">--变量定义，声明,先写变量名，再写变量类型（跟Oracle数据一样）</span></span><br><span class="line">   username <span class="built_in">varchar</span>(<span class="number">30</span>):=<span class="string">'zhangsan'</span>;</span><br><span class="line">   age int;<span class="comment">--接受用户输入的变量值</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--赋值</span></span><br><span class="line">  username:=<span class="string">'xiaoming'</span>;</span><br><span class="line">  age:=&amp;age;</span><br><span class="line">  <span class="comment">--逻辑代码</span></span><br><span class="line">  dbms_output.put_line('hello '||username||',your age is:'||age);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><h3 id="select-…into…-变量赋值"><a href="#select-…into…-变量赋值" class="headerlink" title="select …into…(变量赋值)"></a>select …into…(变量赋值)</h3><p>用into关键字可以将查询结果的值，设置给变量：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询员工编号为105的员工姓名和薪水</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">30</span>):=<span class="string">''</span>;</span><br><span class="line">  salary number;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> first_name||<span class="string">' '</span>||last_name ,salary <span class="keyword">into</span> <span class="keyword">name</span>,salary <span class="keyword">from</span> employees <span class="keyword">where</span> employee_id=<span class="number">105</span>;</span><br><span class="line">  dbms_output.put_line('姓名是：'||name||',工资：'||salary);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><p>注意：select …into..结构必须保证查询只返回一条记录,而且select语句必须和into同时出现，不能单独查询语句。</p><h3 id="PL-SQL的主要控制语句"><a href="#PL-SQL的主要控制语句" class="headerlink" title="PL/SQL的主要控制语句"></a>PL/SQL的主要控制语句</h3><p>if…then      elsif … then      end if;<br>判断if正确则执行then，否则执行else(elsif为嵌套判断),注意elsif,里面少一下e.<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--输入一个学生的分数，判断依据：大于等于60分及格，小于60不及格，大于90优秀</span></span><br><span class="line"><span class="keyword">accept</span> sc prompt '请输入分数'</span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">    score int:=&amp;sc;<span class="comment">--赋值</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span> score&lt;<span class="number">60</span> <span class="keyword">then</span></span><br><span class="line">dbms_output.put_line('你的成绩不及格');</span><br><span class="line">  <span class="keyword">elsif</span> score&lt;<span class="number">90</span> <span class="keyword">then</span></span><br><span class="line">dbms_output.put_line('你的成绩及格');</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">dbms_output.put_line('你的成绩优秀');</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><p>Case when … then when … then [else] end,有逻辑的从数值中做出选择<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--case when ... then ...注意when后面跟上条件，then结果，最后加上end</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">case</span> <span class="keyword">when</span> <span class="keyword">name</span>=<span class="string">'stu1'</span> <span class="keyword">then</span> age+<span class="number">1</span> <span class="keyword">when</span> <span class="keyword">name</span>=<span class="string">'stu2'</span> <span class="keyword">then</span> age+<span class="number">2</span></span><br><span class="line"> <span class="keyword">when</span> <span class="keyword">name</span>=<span class="string">'stu3'</span> <span class="keyword">then</span> age+<span class="number">3</span> <span class="keyword">end</span>  cw,<span class="keyword">name</span>,address <span class="keyword">from</span> student</span><br></pre></td></tr></table></figure></p><p>case var when … then … when … then [else] end<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--经常用于数字表示男女转换</span></span><br><span class="line"><span class="keyword">select</span> u.id,u.name,</span><br><span class="line">    (<span class="keyword">case</span> u.sex</span><br><span class="line">      <span class="keyword">when</span> <span class="number">1</span> <span class="keyword">then</span> <span class="string">'男'</span></span><br><span class="line">      <span class="keyword">when</span> <span class="number">2</span> <span class="keyword">then</span> <span class="string">'女'</span></span><br><span class="line">      <span class="keyword">else</span> <span class="string">'空的'</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">     )性别</span><br><span class="line">  <span class="keyword">from</span> <span class="keyword">users</span> u;</span><br><span class="line"> </span><br><span class="line">ID NAME                 性别</span><br><span class="line"><span class="comment">------- -------------------- ------</span></span><br><span class="line"> 1 张一                 空的</span><br><span class="line"> 2 张二                 男</span><br><span class="line"> 3 张三                 空的</span><br><span class="line"> 4 张四                 空的</span><br><span class="line"> 5 张五                 女</span><br><span class="line"> 6 张六                 男</span><br><span class="line"> 7 张七                 女</span><br><span class="line"> 8 张八                 男</span><br></pre></td></tr></table></figure></p><p>Loop exit end loop,循环控制，用判断语句执行exit<br>Loop exit when … end loop,同上，当when为真时执行exit<br>while..loop end loop,当while为真时循环<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--求1到100的和</span></span><br><span class="line"><span class="comment">--首先定义存储和的变量sum，循环变量i</span></span><br><span class="line"><span class="comment">--for i in 1..100</span></span><br><span class="line"><span class="comment">--求1到100的和</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  total int:=<span class="number">0</span>;</span><br><span class="line">  i int:=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">loop</span></span><br><span class="line">    total:=total+i;</span><br><span class="line">    i:=i+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">exit</span> <span class="keyword">when</span> i&gt;<span class="number">100</span>;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  dbms_output.put_line(<span class="symbol">'total</span>:'||total);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><p>for…in…loop … end loop<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--求1到100的和</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  total <span class="built_in">int</span>:=<span class="number">0</span>;</span><br><span class="line">  i int:=1;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1.</span><span class="number">.100</span></span><br><span class="line">  <span class="keyword">loop</span></span><br><span class="line">    total:=total+i;    </span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  dbms_output.put_line('total:'||total);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><h3 id="异常情况处理"><a href="#异常情况处理" class="headerlink" title="异常情况处理"></a>异常情况处理</h3><p>EXCEPTION<br>       WHEN &lt;异常情况名&gt; THEN<br>             &lt;异常处理代码&gt;<br>      WHEN &lt;异常情况名&gt; THEN<br>          &lt;异常处理代码&gt;<br>       …<br>      WHEN OTHERS THEN<br>          &lt;异常处理代码&gt;<br>注：<code>sqlcode</code>字段可用于异常中显示异常码,<code>sqlerrm</code>字段用于显具体异常内容<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">declare</span><br><span class="line">  name varchar(<span class="number">33</span>);</span><br><span class="line">  salary number;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  select first_name<span class="params">||</span><span class="string">' '</span><span class="params">||</span>last_name ,salary into name,salary from employees where employee_id=<span class="number">105</span> ;</span><br><span class="line">  dbms_output.put_line(<span class="string">'姓名是：'</span><span class="params">||</span>name<span class="params">||</span><span class="string">',工资：'</span><span class="params">||</span>salary);</span><br><span class="line">exception</span><br><span class="line">  <span class="keyword">when</span> no_data_found <span class="keyword">then</span> dbms_output.put_line(<span class="string">'查无此人'</span>);</span><br><span class="line">  <span class="keyword">when</span> too_many_rows <span class="keyword">then</span> dbms_output.put_line(<span class="string">'返回多行记录'</span>);</span><br><span class="line">  dbms_output.put_line(sqlcode<span class="params">||</span><span class="string">'--'</span><span class="params">||</span>sqlerrm);--打印错误代码和错误信息，这句话只能在异常捕获部分写改属性</span><br><span class="line">  <span class="keyword">when</span>  others   <span class="keyword">then</span> dbms_output.put_line(<span class="string">'其他错误'</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><h2 id="Oracle中的存储过程"><a href="#Oracle中的存储过程" class="headerlink" title="Oracle中的存储过程"></a>Oracle中的存储过程</h2><h3 id="不带输出参数"><a href="#不带输出参数" class="headerlink" title="不带输出参数"></a>不带输出参数</h3><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">--创建存储过程</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="function"><span class="keyword">procedure</span> <span class="title">add_pro</span><span class="params">(n <span class="keyword">in</span> int)</span></span></span><br><span class="line"><span class="function"><span class="title">as</span></span></span><br><span class="line"><span class="function">  <span class="title">total</span> <span class="title">int</span>:</span>=<span class="number">0</span>;</span><br><span class="line">  i int:=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">loop</span></span><br><span class="line">    total:=total+i;</span><br><span class="line">    i:=i+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">exit</span> when i&gt;n;</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  dbms_output.put_line(<span class="string">'total:'</span>||total);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line">--调用存储过程</span><br><span class="line">declare </span><br><span class="line">  n int:=<span class="number">10000</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  sum_pro(n);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><h3 id="带输出参数"><a href="#带输出参数" class="headerlink" title="带输出参数"></a>带输出参数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--创建存储过程</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">procedure</span> getNumberByClassId(cid <span class="keyword">in</span> <span class="built_in">int</span>,res <span class="keyword">out</span> <span class="built_in">int</span>)</span><br><span class="line"> <span class="keyword">as</span></span><br><span class="line">  amount <span class="built_in">int</span>:=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">into</span> amount <span class="keyword">from</span> student <span class="keyword">where</span> cla_id=cid;<span class="comment">--查询学生数量，并且赋值给amount</span></span><br><span class="line">  res:=amount;</span><br><span class="line">  amount:=1/0;</span><br><span class="line">  exception</span><br><span class="line">     when others then dbms_output.put_line('程序有异常'||',异常的代码是：'||sqlcode||',错误信息是：'||sqlerrm);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">----调用存储过程</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  amount <span class="built_in">int</span>:=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  getnumberbyclassid(<span class="number">221</span>,amount);</span><br><span class="line">  dbms_output.put_line('数量：'||amount);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><p>注意：<br>1.创建存储过程如果带有参数，输入和输出参数分别用in和out标识，放在参数名的后面。也可以用in out标识，表示既可以输入实参又可以作为输出。<br>2.存储过程调用的时候可以用plsql块来测试。直接写存储过程的名称。</p><h2 id="游标的使用"><a href="#游标的使用" class="headerlink" title="游标的使用"></a>游标的使用</h2><p>游标是什么？<br>内存里面一块存储区，里面存放查询出来的结果集，游标可以在这些行之间游动。当我们修改某一行记录的时候，首先要定位到该行记录。</p><h3 id="隐式游标-了解"><a href="#隐式游标-了解" class="headerlink" title="隐式游标(了解)"></a>隐式游标(了解)</h3><p><code>SQL%ROWCOUNT</code>整型 代表DML语句成功执行的数据行数。<br><code>SQL%NOTFOUND</code>布尔型 与SQL%FOUND属性返回值相反。<br><code>SQL%ISOPEN</code>布尔型 DML执行过程中为真，结束后为假<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--进行批量更新时候判断成功多少行</span></span><br><span class="line"><span class="comment">--plsql支持boolean，但是Oracle没有布尔型，mysql有</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   rc <span class="built_in">int</span>;</span><br><span class="line">   issuc BOOLEAN;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   <span class="keyword">update</span> student <span class="keyword">set</span> stu_age=<span class="number">22</span>;</span><br><span class="line">   <span class="comment">--这一次更新语句一共更新了多少行</span></span><br><span class="line">   rc:=SQL%rowcount;</span><br><span class="line">   dbms_output.put_line('这次更新影响的行数是：'||rc);</span><br><span class="line">   issuc:=SQL%found;</span><br><span class="line">   if issuc then</span><br><span class="line">     dbms_output.put_line('这次更新成功：');</span><br><span class="line">   <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><h3 id="显式游标-静态游标"><a href="#显式游标-静态游标" class="headerlink" title="显式游标(静态游标)"></a>显式游标(静态游标)</h3><p><code>静态游标</code>指的是程序执行的时候不需要再去解析sql语言，对于sql语句的解析在编译的时候就可以完成的。<br><code>动态游标</code>由于含有参数，对于sql语句的解析必须要等到参数确定的时候才能完成。从这个角度来说，静态游标的效率也比动态游标更高一些。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--依次在控制台输出所有学生的信息</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"><span class="comment">--获取游标cc</span></span><br><span class="line"><span class="comment">--注意select后必须为*否则报错 </span></span><br><span class="line"><span class="keyword">cursor</span> cc <span class="keyword">is</span> <span class="keyword">select</span> * <span class="keyword">from</span> student;</span><br><span class="line"><span class="comment">--定义行记录的类型     </span></span><br><span class="line">recordc student%rowType;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="comment">--打开游标</span></span><br><span class="line">  <span class="keyword">open</span> cc;</span><br><span class="line"><span class="comment">--使用游标</span></span><br><span class="line">  loop</span><br><span class="line"><span class="comment">--从游标一行一行取记录</span></span><br><span class="line">    fetch cc into recordc;</span><br><span class="line">    dbms_output.PUT_LINE('姓名是：'||recordc.name||'   年龄是：'||recordc.age);</span><br><span class="line">    exit when cc%notfound;</span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">    <span class="comment">--显示游标必须手动关闭</span></span><br><span class="line">    if cc%isopen</span><br><span class="line">    then close cc;</span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><h3 id="动态游标"><a href="#动态游标" class="headerlink" title="动态游标"></a>动态游标</h3><p><code>动态游标</code>的sql语句在运行的时候才确定的，这种游标叫做动态游标<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--循环遍历所有的学生</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  <span class="keyword">type</span> <span class="type">mycursor </span><span class="keyword">is</span> ref cursor;<span class="comment">--定义一个类型，类型表示一个动态游标</span></span><br><span class="line">  c mycursor;<span class="comment">--定义一个mycursor类型的游标，变量名是c</span></span><br><span class="line">  <span class="keyword">record</span> student%rowtype;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  open c <span class="keyword">for</span> <span class="symbol">'select</span> * from student';<span class="comment">--给动态游标变量c赋值</span></span><br><span class="line">  <span class="keyword">loop</span></span><br><span class="line">    fetch c into <span class="keyword">record</span>;</span><br><span class="line">    dbms_output.put_line('学生姓名：'||<span class="keyword">record</span>.stu_name);</span><br><span class="line">    <span class="keyword">exit</span> <span class="keyword">when</span> c%notfound;  </span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  <span class="keyword">if</span> c%isopen   <span class="keyword">then</span> </span><br><span class="line">    close c;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">--写一个存储过程，输入参数是表名，打印出该表的所有id</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="function"><span class="keyword">procedure</span> <span class="title">printTableId</span><span class="params">(tableName <span class="keyword">in</span> varchar)</span></span></span><br><span class="line"><span class="function"><span class="title">as</span></span></span><br><span class="line"><span class="function">  <span class="title">tid</span> <span class="title">int</span>;</span>--存储表的id列的值</span><br><span class="line">  <span class="keyword">type</span> mycursor <span class="keyword">is</span> ref cursor;</span><br><span class="line">  c mycursor;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  open c <span class="keyword">for</span> <span class="string">'select id from '</span>||tableName;</span><br><span class="line">  <span class="keyword">loop</span></span><br><span class="line">    fetch c <span class="keyword">into</span> tid;</span><br><span class="line">    <span class="keyword">exit</span> when c%notfound;</span><br><span class="line">    dbms_output.put_line(<span class="string">'当前id值：'</span>||tid);</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  <span class="keyword">if</span> c%isopen <span class="keyword">then</span></span><br><span class="line">    close c;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line">--调用存储过程，如果不定义变量，declare可以省略</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  printtableid(<span class="string">'class'</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;什么是plsql？&lt;br&gt;它是结合Oracle过程语言和结构化查询语言的一种扩展语言，用于在数据库完成一些业务功能。比如完成存储过程和触发器等供程序调用。&lt;/p&gt;
&lt;h2 id=&quot;基本结构&quot;&gt;&lt;a href=&quot;#基本结构&quot; class=&quot;headerlink&quot; title=
      
    
    </summary>
    
      <category term="数据库" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="oracle" scheme="http://yoursite.com/tags/oracle/"/>
    
  </entry>
  
  <entry>
    <title>Oracle常用函数</title>
    <link href="http://yoursite.com/2018/08/02/Oracle%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"/>
    <id>http://yoursite.com/2018/08/02/Oracle常用函数/</id>
    <published>2018-08-02T14:19:07.000Z</published>
    <updated>2018-08-21T14:26:54.312Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Oracle常用函数"><a href="#Oracle常用函数" class="headerlink" title="Oracle常用函数"></a>Oracle常用函数</h2><h3 id="关于伪表"><a href="#关于伪表" class="headerlink" title="关于伪表"></a>关于伪表</h3><p>伪表，对每一个数据库用户而言都存在一个表名叫做dual的表。<br>用作日常查询，用来计算，显示日期，转换日期，所有这些操作都不涉及到我们自己定义的表。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--请计算9999*88+888=？</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">9999</span>*<span class="number">88</span>+<span class="number">888</span> <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--显示当前日期</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SYSDATE</span> <span class="keyword">FROM</span> dual;</span><br></pre></td></tr></table></figure></p><h3 id="字符串类单行函数："><a href="#字符串类单行函数：" class="headerlink" title="字符串类单行函数："></a>字符串类单行函数：</h3><p>1.<code>upper</code>范例：观察转大写的函数<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">UPPER</span>(<span class="string">'hello'</span>) <span class="keyword">FROM</span> dual;</span><br></pre></td></tr></table></figure></p><p>2.<code>lower</code>范例：观察转小写的操作，将所有的雇员姓名按照小写字母返回<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(ename) <span class="keyword">FROM</span> emp;</span><br></pre></td></tr></table></figure></p><p>3.<code>length</code>范例：查询出每个雇员姓名的长度<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ename,<span class="built_in">LENGTH</span>(ename) <span class="keyword">FROM</span> emp;</span><br></pre></td></tr></table></figure></p><p>4.<code>replace</code>范例：使用字母“_”替换掉姓名中的所有字母“A”<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">REPLACE</span>(ename,<span class="string">'A'</span>,<span class="string">'_'</span>) <span class="keyword">FROM</span> emp;</span><br></pre></td></tr></table></figure></p><p>5.<code>substr</code>字符串截取操作有两种语法<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--从开始第三个字符截取到结尾</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,<span class="keyword">SUBSTR</span>(ename,<span class="number">3</span>) <span class="keyword">FROM</span> emp;</span><br><span class="line"><span class="comment">--从开始第三个字符截取到第五个</span></span><br><span class="line"><span class="keyword">SELECT</span> ename,<span class="keyword">SUBSTR</span>(ename,<span class="number">3</span>,<span class="number">5</span>) <span class="keyword">FROM</span> emp;</span><br></pre></td></tr></table></figure></p><h3 id="数字类单行函数："><a href="#数字类单行函数：" class="headerlink" title="数字类单行函数："></a>数字类单行函数：</h3><p>1.验证round()函数<br>round(n,[m]) 该函数用于执行四舍五入，如果省掉m，则四舍五入到整数。<br>如果m是正数，则四舍五入到小数点的m位后。<br>如果m是负数，则四舍五入到小数点的m位前。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">round</span>(<span class="number">23.75123</span>) <span class="keyword">FROM</span> dual; <span class="comment">--返回24</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">round</span>(<span class="number">23.75123</span>, <span class="number">1</span>) <span class="keyword">FROM</span> dual; <span class="comment">--返回23.8</span></span><br></pre></td></tr></table></figure></p><h3 id="日期类函数"><a href="#日期类函数" class="headerlink" title="日期类函数"></a>日期类函数</h3><p>如果现在要想进行日期的操作，则首先有一个必须要解决的问题，就是如何取得当前的日期，这个当前日期可以使用“SYSDATE”取得，代码如下：<br><code>SELECT SYSDATE FROM dual;</code><br>除了以上的当前日期之外，在日期中也可以进行若干计算：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--日期 + 数字 = 日期，表示若干天之后的日期；</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SYSDATE</span> + <span class="number">3</span>,<span class="keyword">SYSDATE</span> + <span class="number">300</span> <span class="keyword">FROM</span> dual;</span><br><span class="line"><span class="comment">--日期 – 数字 = 日期，表示若干天前的日期；</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SYSDATE</span> - <span class="number">3</span>,<span class="keyword">SYSDATE</span> - <span class="number">300</span> <span class="keyword">FROM</span> dual;</span><br><span class="line"><span class="comment">--日期 – 日期</span></span><br></pre></td></tr></table></figure></p><h3 id="日期和字符串转换函数"><a href="#日期和字符串转换函数" class="headerlink" title="日期和字符串转换函数"></a>日期和字符串转换函数</h3><p><code>to_char</code>函数:将日期转换成字符串<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--把员工的入职时间转成字符串，yyyy-MM-dd</span></span><br><span class="line"><span class="keyword">select</span> to_char(hire_date,<span class="string">'yyyy-MM-dd'</span>) <span class="keyword">from</span> employees <span class="keyword">where</span> <span class="number">1</span>=<span class="number">1</span> ;</span><br><span class="line"><span class="comment">--把当前日期转成字符串，yyyy-MM-dd</span></span><br><span class="line"><span class="keyword">select</span>  to_char(<span class="keyword">sysdate</span>,<span class="string">'yyyy-MM-dd'</span>) <span class="keyword">from</span> dual ;</span><br></pre></td></tr></table></figure></p><p><code>to_date</code>函数:将字符串转换成日期<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--给定一个字符串'2017-09-09' 转成日期</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'2017-09-09'</span>,<span class="string">'yyyy-MM-dd'</span>) <span class="keyword">from</span> dual;  可能写到<span class="keyword">insert</span> <span class="keyword">into</span> () <span class="keyword">values</span>(日期)</span><br></pre></td></tr></table></figure></p><h3 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h3><p><code>decode</code>函数<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--显示员工工资临界档次，等于3000显示低收入，等于5000显示中等，等于8000显示高薪。</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">decode</span>(salary,<span class="number">3000</span>,<span class="string">'低收入'</span>,<span class="number">5000</span>,<span class="string">'中等'</span>,<span class="number">8000</span>,<span class="string">'高薪'</span>,<span class="string">'其他'</span>) <span class="keyword">from</span> employees ;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Oracle常用函数&quot;&gt;&lt;a href=&quot;#Oracle常用函数&quot; class=&quot;headerlink&quot; title=&quot;Oracle常用函数&quot;&gt;&lt;/a&gt;Oracle常用函数&lt;/h2&gt;&lt;h3 id=&quot;关于伪表&quot;&gt;&lt;a href=&quot;#关于伪表&quot; class=&quot;head
      
    
    </summary>
    
      <category term="数据库" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="oracle" scheme="http://yoursite.com/tags/oracle/"/>
    
  </entry>
  
  <entry>
    <title>Node.js的包管理</title>
    <link href="http://yoursite.com/2018/07/07/Node.js%E7%9A%84%E5%8C%85%E7%AE%A1%E7%90%86/"/>
    <id>http://yoursite.com/2018/07/07/Node.js的包管理/</id>
    <published>2018-07-07T12:30:58.000Z</published>
    <updated>2018-07-08T12:07:46.070Z</updated>
    
    <content type="html"><![CDATA[<p>npm官网: <a href="http://www.npmjs.com" target="_blank" rel="noopener">http://www.npmjs.com</a></p><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm install name安装</span><br><span class="line"></span><br><span class="line">npm uninstall name卸载</span><br><span class="line"></span><br><span class="line">npm version查看版本</span><br><span class="line"></span><br><span class="line">npm <span class="built_in">help</span>查看帮助</span><br></pre></td></tr></table></figure><h2 id="npm上传自己的模块-开源社区"><a href="#npm上传自己的模块-开源社区" class="headerlink" title="npm上传自己的模块(开源社区)"></a>npm上传自己的模块(开源社区)</h2><ol><li><p>注册、登录一个用户</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm adduser添加用户</span><br><span class="line">npm login登录用户</span><br></pre></td></tr></table></figure></li><li><p>检查是否登录成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whoami查看当前用户</span><br></pre></td></tr></table></figure></li><li><p>建立package</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init初始化</span><br></pre></td></tr></table></figure></li><li><p>发布</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish发布</span><br></pre></td></tr></table></figure></li></ol><p>注意:在发布一次必须更高的版本号</p><ol start="5"><li>删除发布<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm unpublish name -force  删除发布</span><br></pre></td></tr></table></figure></li></ol><h2 id="package-json及相关字段"><a href="#package-json及相关字段" class="headerlink" title="package.json及相关字段"></a>package.json及相关字段</h2><p>package.json是项目的全局描述文件(在运行<code>npm init时生成</code>)，简单结构如下:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"npm"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"node index.js"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="string">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"grunt"</span>: <span class="string">"^1.0.3"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="scripts"><a href="#scripts" class="headerlink" title="scripts"></a>scripts</h3><p>此字段用于脚本命令的书写，注意只有<code>npm help</code>中存在的命令才能引用脚本<br>相关常用脚本:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm start启动</span><br><span class="line">npm stop 关闭</span><br><span class="line">npm restart重启</span><br><span class="line">npm <span class="built_in">test</span>测试</span><br></pre></td></tr></table></figure></p><h3 id="files"><a href="#files" class="headerlink" title="files"></a>files</h3><p>此字段包含了工程所包含的文件</p><h3 id="版本号声明-dependencies"><a href="#版本号声明-dependencies" class="headerlink" title="版本号声明(dependencies)"></a>版本号声明(dependencies)</h3><p>格式：主版本.次版本.bulid号<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">～version  近似版本（次要版本）</span><br><span class="line"></span><br><span class="line">^version  兼容版本</span><br><span class="line"></span><br><span class="line">*  任何版本</span><br><span class="line"></span><br><span class="line">a～b　　　ａ～之间</span><br></pre></td></tr></table></figure></p><h2 id="通过package-json快速创建工程"><a href="#通过package-json快速创建工程" class="headerlink" title="通过package.json快速创建工程"></a>通过package.json快速创建工程</h2><p>1.在A处工程目录下运行命令<br><code>npm install name --save</code>将需要的依赖添加到package.json</p><p>2.将<code>package.json</code>拷贝到B处工程目录下，在B工程目录下<br>运行<code>npm install</code>命令，将自动下载所有依赖包</p><h2 id="安装cnpm"><a href="#安装cnpm" class="headerlink" title="安装cnpm"></a>安装cnpm</h2><p>cnpm镜像官网: <a href="http://npm.taobao.org" target="_blank" rel="noopener">http://npm.taobao.org</a><br>此处安装阿里的<code>npm</code>国内镜像<code>cnpm</code>(因为npm慢)，安装后命令使用方法同<code>npm</code>，仅将<code>npm</code>换成<code>cnpm</code>即可<br>安装命令(官网上有):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></p><h2 id="browserify"><a href="#browserify" class="headerlink" title="browserify"></a>browserify</h2><p>Browserify 可以让你使用类似于 node 的 require() 的方式来组织浏览器端的 Javascript 代码，通过预编译让前端 Javascript 可以直接使用 Node NPM 安装的一些库。</p><p>1.安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm -g install browserify</span><br></pre></td></tr></table></figure></p><p>2.编译<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browserify 要编译的js文件 &gt; 结果文件.js</span><br></pre></td></tr></table></figure></p><p>3.例<br>A.js:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;</span><br><span class="line">a: 12</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>B.js:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports=&#123;</span><br><span class="line">b: 52</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>C.js:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var mud1 = require('./1.js')//非系统模块，./不能省</span><br><span class="line">var mud2 = require('./2.js')</span><br><span class="line">alert(mud1.a+mud2.b)</span><br></pre></td></tr></table></figure></p><p>最终使用<code>browserify C.js &gt; index.js</code>命令编译：<br>编译后<code>C.js</code>需要的所有其它文件都会被编译进index.js 中，包括很多层 require() 的情况也会一起被递归式的编译过来。<br>编译好的 js可以直接拿到浏览器使用<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="browser-sync"><a href="#browser-sync" class="headerlink" title="browser-sync"></a>browser-sync</h2><p>直接上官网: <a href="http://www.browsersync.cn/#install" target="_blank" rel="noopener">http://www.browsersync.cn/#install</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;npm官网: &lt;a href=&quot;http://www.npmjs.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.npmjs.com&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;常用命令&quot;&gt;&lt;a href=&quot;#常用命令&quot; class=&quot;he
      
    
    </summary>
    
      <category term="关于技术的深入浅出" scheme="http://yoursite.com/categories/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF%E7%9A%84%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA/"/>
    
    
      <category term="Node.js" scheme="http://yoursite.com/tags/Node-js/"/>
    
  </entry>
  
  <entry>
    <title>Java将word转换成pdf</title>
    <link href="http://yoursite.com/2018/06/18/Java%E5%B0%86word%E8%BD%AC%E6%8D%A2%E6%88%90pdf/"/>
    <id>http://yoursite.com/2018/06/18/Java将word转换成pdf/</id>
    <published>2018-06-18T11:08:58.000Z</published>
    <updated>2018-09-04T15:13:20.890Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用jacob将-word转换为pdf"><a href="#使用jacob将-word转换为pdf" class="headerlink" title="使用jacob将 word转换为pdf"></a>使用jacob将 word转换为pdf</h2><ol><li><p>下载<a href="http://www.microsoft.com/zh-cn/download/details.aspx?id=7" target="_blank" rel="noopener">SaveAsPDFandXPS</a>并安装</p></li><li><p>下载<a href="http://sourceforge.net/projects/jacob-project/" target="_blank" rel="noopener">jacob.jar</a><br>将<code>jacob-1.19-x64.dll</code>放在 C:\jdk1.8.0\jre\bin 目录下<br>将<code>jacob.jar</code>导入项目的<code>lib</code>目录下即可</p></li><li><p>具体实现代码:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">package com.jd.poi.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.jacob.activeX.ActiveXComponent;</span><br><span class="line"><span class="keyword">import</span> com.jacob.com.ComThread;</span><br><span class="line"><span class="keyword">import</span> com.jacob.com.Dispatch;</span><br><span class="line"><span class="keyword">import</span> com.jacob.com.Variant;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 效果最好的一种方法，但是需要 window 环境，而且速度是最慢的需要安装 msofficeWord 以及 SaveAsPDFandXPS.exe (</span></span><br><span class="line"><span class="comment"> * word 的一个插件，用来把 word 转化为 pdf，可以不用安装，本次未安装测试通过 )</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * SaveAsPDFandXPS</span></span><br><span class="line"><span class="comment"> * 下载地址：http://www.microsoft.com/zh-cn/download/details.aspx?id=7 </span></span><br><span class="line"><span class="comment"> * jacob 包下载地址：http://sourceforge.net/projects/jacob-project/</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * jacob.jar 放在 E:\jdk1.5.0_14\jre\lib\ext </span></span><br><span class="line"><span class="comment"> * jacob.dll 放在 E:\jdk1.5.0_14\jre\bin</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @author u Y</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">WordToPdf</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    private <span class="keyword">static</span> final int wdFormatPDF = <span class="number">17</span>; <span class="comment">// PDF 格式</span></span><br><span class="line"></span><br><span class="line">    public <span class="keyword">void</span> wordToPDF(<span class="built_in">String</span> sfileName, <span class="built_in">String</span> toFileName) &#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"启动 Word..."</span>);</span><br><span class="line">        long start = System.currentTimeMillis();</span><br><span class="line">        ActiveXComponent app = <span class="literal">null</span>;</span><br><span class="line">        Dispatch doc = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            app = <span class="keyword">new</span> ActiveXComponent(<span class="string">"Word.Application"</span>);</span><br><span class="line">            app.setProperty(<span class="string">"Visible"</span>, <span class="keyword">new</span> Variant(<span class="literal">false</span>));</span><br><span class="line">            Dispatch docs = app.getProperty(<span class="string">"Documents"</span>).toDispatch();</span><br><span class="line">            doc = Dispatch.call(docs, <span class="string">"Open"</span>, sfileName).toDispatch();</span><br><span class="line">            System.out.println(<span class="string">"打开文档..."</span> + sfileName);</span><br><span class="line">            System.out.println(<span class="string">"转换文档到 PDF..."</span> + toFileName);</span><br><span class="line">            File tofile = <span class="keyword">new</span> File(toFileName);</span><br><span class="line">            <span class="keyword">if</span> (tofile.exists()) &#123;</span><br><span class="line">                tofile.delete();</span><br><span class="line">            &#125;</span><br><span class="line">            Dispatch.call(doc, <span class="string">"SaveAs"</span>, toFileName, <span class="comment">// FileName</span></span><br><span class="line">                    wdFormatPDF);</span><br><span class="line">            long end = System.currentTimeMillis();</span><br><span class="line">            System.out.println(<span class="string">"转换完成..用时："</span> + (end - start) + <span class="string">"ms."</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"========Error:文档转换失败："</span> + e.getMessage());</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            Dispatch.call(doc, <span class="string">"Close"</span>, <span class="literal">false</span>);</span><br><span class="line">            System.out.println(<span class="string">"关闭文档"</span>);</span><br><span class="line">            <span class="keyword">if</span> (app != <span class="literal">null</span>)</span><br><span class="line">                app.invoke(<span class="string">"Quit"</span>, <span class="keyword">new</span> Variant[] &#123;&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 如果没有这句话,winword.exe进程将不会关闭</span></span><br><span class="line">        ComThread.Release();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">        WordToPdf d = <span class="keyword">new</span> WordToPdf();</span><br><span class="line">        d.wordToPDF(<span class="string">"E:\\aaa\\Spring.doc"</span>, <span class="string">"E:\\aaa\\Spring.pdf"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="将word转换为html"><a href="#将word转换为html" class="headerlink" title="将word转换为html"></a>将word转换为html</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;使用jacob将-word转换为pdf&quot;&gt;&lt;a href=&quot;#使用jacob将-word转换为pdf&quot; class=&quot;headerlink&quot; title=&quot;使用jacob将 word转换为pdf&quot;&gt;&lt;/a&gt;使用jacob将 word转换为pdf&lt;/h2&gt;&lt;ol&gt;

      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java工具类" scheme="http://yoursite.com/tags/java%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>linux小记</title>
    <link href="http://yoursite.com/2018/06/04/linux%E5%B0%8F%E8%AE%B0/"/>
    <id>http://yoursite.com/2018/06/04/linux小记/</id>
    <published>2018-06-04T13:48:47.000Z</published>
    <updated>2018-08-21T14:25:44.249Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用ab对web服务进行压力测试"><a href="#使用ab对web服务进行压力测试" class="headerlink" title="使用ab对web服务进行压力测试"></a>使用ab对web服务进行压力测试</h2><p>常用的压力测试工具:<br><code>Apache Benchmark(ab)</code><br><code>LoadRunner</code></p><ol><li><p>查看ab命令的软件依赖包是否安装,ab命令默认位置为<code>/usr/bin/ab</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rpm -qa | grep httpd-tools</span></span><br></pre></td></tr></table></figure></li><li><p>没有则安装相关软件包，有则忽略此步骤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install -y httpd-tools</span></span><br></pre></td></tr></table></figure></li><li><p>使用ab命令进行压力测试</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ab -c 1 -n 10000 http://.....</span></span><br></pre></td></tr></table></figure></li></ol><ul><li><code>-c</code>——模拟多个客户端同时进行访问</li><li><code>-n</code>——本次压力测试要完成的请求个数</li></ul><h2 id="使用Nginx高性能Web服务器"><a href="#使用Nginx高性能Web服务器" class="headerlink" title="使用Nginx高性能Web服务器"></a>使用Nginx高性能Web服务器</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol><li>下载nginx归档压缩文件包:<a href="http://nginx.org/en/download.html" target="_blank" rel="noopener">nginx</a></li><li><p>安装开发套件:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum groupinstall -y "Development Tools"</span></span><br></pre></td></tr></table></figure></li><li><p>解压缩归档压缩文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar -xzvf nginx-1.14.0.tar.gz</span></span><br></pre></td></tr></table></figure></li><li><p>检查编译环境、相关的库文件以及配置参数并生成makefile</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> nginx-1.14.0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./configure</span></span><br></pre></td></tr></table></figure></li><li><p>如果有依赖的库文件没安装则进行此步骤，安装依赖的库文件,安装完成后继续运行<code>./configure</code>命令直到生成<code>makefile</code>文件:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install -y pcre-devel</span></span><br><span class="line"><span class="comment"># yum install -y zlib-devel</span></span><br></pre></td></tr></table></figure></li><li><p>对源代码进行编译，生成可执行文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># make</span></span><br></pre></td></tr></table></figure></li><li><p>将生成的可执行文件安装到计算机中,默认安装目录为<code>/usr/local/nginx</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># make install</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="启动服务器"><a href="#启动服务器" class="headerlink" title="启动服务器"></a>启动服务器</h3><p>启动nginx服务,默认使用80端口号<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd /usr/local/nginx/sbin</span></span><br><span class="line"><span class="comment"># ./nginx</span></span><br></pre></td></tr></table></figure></p><p>使用<code>netstat -tupln | grep 80</code>命令查看80端口的使用情况<br>nginx默认主页面配置信息<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;//端口</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root   html;//主页位置，可以放一个绝对路径文件</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><h3 id="关闭nginx服务器"><a href="#关闭nginx服务器" class="headerlink" title="关闭nginx服务器"></a>关闭nginx服务器</h3><ol><li>通过<code>ps aux | grep nginx</code>命令查看nginx的进程id</li><li>关闭<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kill -s QUIT 14011(进程id)</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="创建定时任务"><a href="#创建定时任务" class="headerlink" title="创建定时任务"></a>创建定时任务</h2><p>linux下常用用于创建定时任务的服务(linux中的服务常以<code>d</code>结尾):<br><code>atd</code>服务<br><code>crond</code>服务(常用)</p><ol><li><p>查看相关文件<br>使用<code>cat /etc/crontab</code>命令可查看创建定时任务的语法,相应字段对应着相应的含义<br>使用<code>ls -ld /etc/cron*</code>命令可查看任务相关的文件及文件夹,将脚本放到相应的文件中则会相应的周期性运行脚本</p></li><li><p>创建定时任务<br>创建一个每分钟输出一次<code>hello linux</code>的定时任务(默认进入vi编辑器，保存并退出即可创建定时任务):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># crontab -e</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* * * * * root <span class="built_in">echo</span> <span class="string">"hello linux"</span></span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">:x</span><br></pre></td></tr></table></figure><p>相关字段用含义如下:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.---------------- minute (0 - 59)</span><br><span class="line">|  .------------- hour (0 - 23)</span><br><span class="line">|  |  .---------- day of month (1 - 31)</span><br><span class="line">|  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class="line">|  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="line">|  |  |  |  |</span><br><span class="line">*  *  *  *  * user-name  <span class="built_in">command</span> to be executed</span><br></pre></td></tr></table></figure></li><li><p>查看当前用户的定时任务列表</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># crontab -l</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="使用iotop实时监控系统磁盘IO"><a href="#使用iotop实时监控系统磁盘IO" class="headerlink" title="使用iotop实时监控系统磁盘IO"></a>使用iotop实时监控系统磁盘IO</h2><p>此命令类似于window中的任务管理器</p><ol><li><p>查看相关的软件包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum list iotop</span></span><br></pre></td></tr></table></figure></li><li><p>安装相关的命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install -y iotop</span></span><br></pre></td></tr></table></figure></li><li><p>查看相关的IO状况(命令类似于系统自带的<code>top</code>命令)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> iotop</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="Linux下挂载FAT文件系统"><a href="#Linux下挂载FAT文件系统" class="headerlink" title="Linux下挂载FAT文件系统"></a>Linux下挂载FAT文件系统</h2><ol><li>到网址<code>repoforge.org/use/</code>下载下图文件:<br><img src="/img/mount-ntfs.png" alt="挂载相关图片"><br>相关文件下载网址：<a href="http://repoforge.org/use/" target="_blank" rel="noopener">rpmforge-release-0.5.3-1.el6.rf.i686.rpm</a></li><li>到rpm文件包所在的目录运行<code>rpm -ivh rpmfilename</code>命令安装相关的库文件</li><li>使用<code>yum list | grep ntfs</code>命令查看库中包含的rpm安装包文件<br>使用<code>yum install fuse-ntfs-3g</code>命令安装相关驱动模块,至此已经可以自动挂载FAT格式磁盘</li><li>运行<code>mount</code>命令查看所有已挂载的文件系统</li><li>挂载FAT文件系统的磁盘:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># moun.ntfs 挂载点 需挂载磁盘</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="使用压缩PNG图片工具"><a href="#使用压缩PNG图片工具" class="headerlink" title="使用压缩PNG图片工具"></a>使用压缩PNG图片工具</h2><ol><li>到相应的网址<code>repoforge.org/use/</code>下载yum源的rpm包使用命令<code>rpm -ivh rpmfilename</code>进行安装：<br><img src="/img/mount-ntfs.png" alt="挂载相关图片"><br>相关文件下载网址：<a href="http://repoforge.org/use/" target="_blank" rel="noopener">rpmforge-release-0.5.3-1.el6.rf.i686.rpm</a></li><li>使用<code>yum install -y optipng</code>命令进行软件安装</li><li>安装完成后使用<code>optipng filename</code>命令即可进行png格式图片压缩</li></ol><h2 id="监控系统当前监听使用的端口"><a href="#监控系统当前监听使用的端口" class="headerlink" title="监控系统当前监听使用的端口"></a>监控系统当前监听使用的端口</h2><ol><li>第一种方式<br>查看当前的网络状态<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># netstat -tupln</span></span><br></pre></td></tr></table></figure></li></ol><p><code>-tupln</code>——列出当前系统上所有正在监听的端口</p><ol start="2"><li>第二种方式<br>列出所有正在监听的端口<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lsof -i</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;使用ab对web服务进行压力测试&quot;&gt;&lt;a href=&quot;#使用ab对web服务进行压力测试&quot; class=&quot;headerlink&quot; title=&quot;使用ab对web服务进行压力测试&quot;&gt;&lt;/a&gt;使用ab对web服务进行压力测试&lt;/h2&gt;&lt;p&gt;常用的压力测试工具:&lt;br&gt;
      
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
  </entry>
  
</feed>
